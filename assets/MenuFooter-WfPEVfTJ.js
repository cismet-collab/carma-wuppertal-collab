import{c as re,r as ae,g as ta,R as We}from"./index-RYns6xqu.js";import{c as oi}from"./_commonjs-dynamic-modules-CwPr7z3e.js";import{j as et}from"./jsx-runtime-DEdD30eg.js";import{p as yi}from"./index-DNUR7M9R.js";import{r as ws}from"./index-DvoZgHAm.js";var yt={},Pr={},gn={},yn={},ea="Expected a function",xo=NaN,bs="[object Symbol]",Ps=/^\s+|\s+$/g,xs=/^[-+]0x[0-9a-f]+$/i,Ls=/^0b[01]+$/i,Ts=/^0o[0-7]+$/i,Ss=parseInt,Es=typeof re=="object"&&re&&re.Object===Object&&re,As=typeof self=="object"&&self&&self.Object===Object&&self,Os=Es||As||Function("return this")(),Ms=Object.prototype,Is=Ms.toString,Cs=Math.max,ks=Math.min,sr=function(){return Os.Date.now()};function Bs(a,r,s){var c,f,S,y,P,T,M=0,z=!1,x=!1,B=!0;if(typeof a!="function")throw new TypeError(ea);r=Lo(r)||0,pi(s)&&(z=!!s.leading,x="maxWait"in s,S=x?Cs(Lo(s.maxWait)||0,r):S,B="trailing"in s?!!s.trailing:B);function U(Z){var F=c,$=f;return c=f=void 0,M=Z,y=a.apply($,F),y}function Y(Z){return M=Z,P=setTimeout(ut,r),z?U(Z):y}function W(Z){var F=Z-T,$=Z-M,ht=r-F;return x?ks(ht,S-$):ht}function tt(Z){var F=Z-T,$=Z-M;return T===void 0||F>=r||F<0||x&&$>=S}function ut(){var Z=sr();if(tt(Z))return ot(Z);P=setTimeout(ut,W(Z))}function ot(Z){return P=void 0,B&&c?U(Z):(c=f=void 0,y)}function _t(){P!==void 0&&clearTimeout(P),M=0,c=T=f=P=void 0}function wt(){return P===void 0?y:ot(sr())}function k(){var Z=sr(),F=tt(Z);if(c=arguments,f=this,T=Z,F){if(P===void 0)return Y(T);if(x)return P=setTimeout(ut,r),U(T)}return P===void 0&&(P=setTimeout(ut,r)),y}return k.cancel=_t,k.flush=wt,k}function zs(a,r,s){var c=!0,f=!0;if(typeof a!="function")throw new TypeError(ea);return pi(s)&&(c="leading"in s?!!s.leading:c,f="trailing"in s?!!s.trailing:f),Bs(a,r,{leading:c,maxWait:r,trailing:f})}function pi(a){var r=typeof a;return!!a&&(r=="object"||r=="function")}function Rs(a){return!!a&&typeof a=="object"}function Ds(a){return typeof a=="symbol"||Rs(a)&&Is.call(a)==bs}function Lo(a){if(typeof a=="number")return a;if(Ds(a))return xo;if(pi(a)){var r=typeof a.valueOf=="function"?a.valueOf():a;a=pi(r)?r+"":r}if(typeof a!="string")return a===0?a:+a;a=a.replace(Ps,"");var s=Ls.test(a);return s||Ts.test(a)?Ss(a.slice(2),s?2:8):xs.test(a)?xo:+a}var Zs=zs,wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.addPassiveEventListener=function(r,s,c){var f=c.name;f||(f=s,console.warn("Listener must be a named function.")),fi.has(s)||fi.set(s,new Set);var S=fi.get(s);if(!S.has(f)){var y=function(){var P=!1;try{var T=Object.defineProperty({},"passive",{get:function(){P=!0}});window.addEventListener("test",null,T)}catch{}return P}();r.addEventListener(s,c,y?{passive:!0}:!1),S.add(f)}};wn.removePassiveEventListener=function(r,s,c){r.removeEventListener(s,c),fi.get(s).delete(c.name||s)};var fi=new Map;Object.defineProperty(yn,"__esModule",{value:!0});var Ns=Zs,Fs=Ws(Ns),Hs=wn;function Ws(a){return a&&a.__esModule?a:{default:a}}var js=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,Fs.default)(r,s)},mt={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(r,s){if(r){var c=js(function(f){mt.scrollHandler(r)},s);mt.scrollSpyContainers.push(r),(0,Hs.addPassiveEventListener)(r,"scroll",c)}},isMounted:function(r){return mt.scrollSpyContainers.indexOf(r)!==-1},currentPositionX:function(r){if(r===document){var s=window.pageYOffset!==void 0,c=(document.compatMode||"")==="CSS1Compat";return s?window.pageXOffset:c?document.documentElement.scrollLeft:document.body.scrollLeft}else return r.scrollLeft},currentPositionY:function(r){if(r===document){var s=window.pageXOffset!==void 0,c=(document.compatMode||"")==="CSS1Compat";return s?window.pageYOffset:c?document.documentElement.scrollTop:document.body.scrollTop}else return r.scrollTop},scrollHandler:function(r){var s=mt.scrollSpyContainers[mt.scrollSpyContainers.indexOf(r)].spyCallbacks||[];s.forEach(function(c){return c(mt.currentPositionX(r),mt.currentPositionY(r))})},addStateHandler:function(r){mt.spySetState.push(r)},addSpyHandler:function(r,s){var c=mt.scrollSpyContainers[mt.scrollSpyContainers.indexOf(s)];c.spyCallbacks||(c.spyCallbacks=[]),c.spyCallbacks.push(r),r(mt.currentPositionX(s),mt.currentPositionY(s))},updateStates:function(){mt.spySetState.forEach(function(r){return r()})},unmount:function(r,s){mt.scrollSpyContainers.forEach(function(c){return c.spyCallbacks&&c.spyCallbacks.length&&c.spyCallbacks.indexOf(s)>-1&&c.spyCallbacks.splice(c.spyCallbacks.indexOf(s),1)}),mt.spySetState&&mt.spySetState.length&&mt.spySetState.indexOf(r)>-1&&mt.spySetState.splice(mt.spySetState.indexOf(r),1),document.removeEventListener("scroll",mt.scrollHandler)},update:function(){return mt.scrollSpyContainers.forEach(function(r){return mt.scrollHandler(r)})}};yn.default=mt;var Ue={},bn={};Object.defineProperty(bn,"__esModule",{value:!0});var Us=function(r,s){var c=r.indexOf("#")===0?r.substring(1):r,f=c?"#"+c:"",S=window&&window.location,y=f?S.pathname+S.search+f:S.pathname+S.search;s?history.pushState(history.state,"",y):history.replaceState(history.state,"",y)},Ks=function(){return window.location.hash.replace(/^#/,"")},Vs=function(r){return function(s){return r.contains?r!=s&&r.contains(s):!!(r.compareDocumentPosition(s)&16)}},qs=function(r){return getComputedStyle(r).position!=="static"},ur=function(r,s){for(var c=r.offsetTop,f=r.offsetParent;f&&!s(f);)c+=f.offsetTop,f=f.offsetParent;return{offsetTop:c,offsetParent:f}},Gs=function(r,s,c){if(c)return r===document?s.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(r).position!=="static"?s.offsetLeft:s.offsetLeft-r.offsetLeft;if(r===document)return s.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(qs(r)){if(s.offsetParent!==r){var f=function(z){return z===r||z===document},S=ur(s,f),y=S.offsetTop,P=S.offsetParent;if(P!==r)throw new Error("Seems containerElement is not an ancestor of the Element");return y}return s.offsetTop}if(s.offsetParent===r.offsetParent)return s.offsetTop-r.offsetTop;var T=function(z){return z===document};return ur(s,T).offsetTop-ur(r,T).offsetTop};bn.default={updateHash:Us,getHash:Ks,filterElementInContainer:Vs,scrollOffset:Gs};var wi={},xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.default={defaultEasing:function(r){return r<.5?Math.pow(r*2,2)/2:1-Math.pow((1-r)*2,2)/2},linear:function(r){return r},easeInQuad:function(r){return r*r},easeOutQuad:function(r){return r*(2-r)},easeInOutQuad:function(r){return r<.5?2*r*r:-1+(4-2*r)*r},easeInCubic:function(r){return r*r*r},easeOutCubic:function(r){return--r*r*r+1},easeInOutCubic:function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},easeInQuart:function(r){return r*r*r*r},easeOutQuart:function(r){return 1- --r*r*r*r},easeInOutQuart:function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},easeInQuint:function(r){return r*r*r*r*r},easeOutQuint:function(r){return 1+--r*r*r*r*r},easeInOutQuint:function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r}};var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});var Ys=wn,$s=["mousedown","mousewheel","touchmove","keydown"];Lr.default={subscribe:function(r){return typeof document<"u"&&$s.forEach(function(s){return(0,Ys.addPassiveEventListener)(document,s,r)})}};var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});var mr={registered:{},scrollEvent:{register:function(r,s){mr.registered[r]=s},remove:function(r){mr.registered[r]=null}}};Pn.default=mr;Object.defineProperty(wi,"__esModule",{value:!0});var Xs=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])}return a},Qs=bn;bi(Qs);var Js=xr,To=bi(Js),tu=Lr,eu=bi(tu),nu=Pn,$t=bi(nu);function bi(a){return a&&a.__esModule?a:{default:a}}var na=function(r){return To.default[r.smooth]||To.default.defaultEasing},iu=function(r){return typeof r=="function"?r:function(){return r}},ru=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},vr=function(){return ru()||function(a,r,s){window.setTimeout(a,s||1e3/60,new Date().getTime())}}(),ia=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},ra=function(r){var s=r.data.containerElement;if(s&&s!==document&&s!==document.body)return s.scrollLeft;var c=window.pageXOffset!==void 0,f=(document.compatMode||"")==="CSS1Compat";return c?window.pageXOffset:f?document.documentElement.scrollLeft:document.body.scrollLeft},oa=function(r){var s=r.data.containerElement;if(s&&s!==document&&s!==document.body)return s.scrollTop;var c=window.pageXOffset!==void 0,f=(document.compatMode||"")==="CSS1Compat";return c?window.pageYOffset:f?document.documentElement.scrollTop:document.body.scrollTop},ou=function(r){var s=r.data.containerElement;if(s&&s!==document&&s!==document.body)return s.scrollWidth-s.offsetWidth;var c=document.body,f=document.documentElement;return Math.max(c.scrollWidth,c.offsetWidth,f.clientWidth,f.scrollWidth,f.offsetWidth)},au=function(r){var s=r.data.containerElement;if(s&&s!==document&&s!==document.body)return s.scrollHeight-s.offsetHeight;var c=document.body,f=document.documentElement;return Math.max(c.scrollHeight,c.offsetHeight,f.clientHeight,f.scrollHeight,f.offsetHeight)},su=function a(r,s,c){var f=s.data;if(!s.ignoreCancelEvents&&f.cancel){$t.default.registered.end&&$t.default.registered.end(f.to,f.target,f.currentPositionY);return}if(f.delta=Math.round(f.targetPosition-f.startPosition),f.start===null&&(f.start=c),f.progress=c-f.start,f.percent=f.progress>=f.duration?1:r(f.progress/f.duration),f.currentPosition=f.startPosition+Math.ceil(f.delta*f.percent),f.containerElement&&f.containerElement!==document&&f.containerElement!==document.body?s.horizontal?f.containerElement.scrollLeft=f.currentPosition:f.containerElement.scrollTop=f.currentPosition:s.horizontal?window.scrollTo(f.currentPosition,0):window.scrollTo(0,f.currentPosition),f.percent<1){var S=a.bind(null,r,s);vr.call(window,S);return}$t.default.registered.end&&$t.default.registered.end(f.to,f.target,f.currentPosition)},Tr=function(r){r.data.containerElement=r?r.containerId?document.getElementById(r.containerId):r.container&&r.container.nodeType?r.container:document:null},xn=function(r,s,c,f){s.data=s.data||ia(),window.clearTimeout(s.data.delayTimeout);var S=function(){s.data.cancel=!0};if(eu.default.subscribe(S),Tr(s),s.data.start=null,s.data.cancel=!1,s.data.startPosition=s.horizontal?ra(s):oa(s),s.data.targetPosition=s.absolute?r:r+s.data.startPosition,s.data.startPosition===s.data.targetPosition){$t.default.registered.end&&$t.default.registered.end(s.data.to,s.data.target,s.data.currentPosition);return}s.data.delta=Math.round(s.data.targetPosition-s.data.startPosition),s.data.duration=iu(s.duration)(s.data.delta),s.data.duration=isNaN(parseFloat(s.data.duration))?1e3:parseFloat(s.data.duration),s.data.to=c,s.data.target=f;var y=na(s),P=su.bind(null,y,s);if(s&&s.delay>0){s.data.delayTimeout=window.setTimeout(function(){$t.default.registered.begin&&$t.default.registered.begin(s.data.to,s.data.target),vr.call(window,P)},s.delay);return}$t.default.registered.begin&&$t.default.registered.begin(s.data.to,s.data.target),vr.call(window,P)},Pi=function(r){return r=Xs({},r),r.data=r.data||ia(),r.absolute=!0,r},uu=function(r){xn(0,Pi(r))},lu=function(r,s){xn(r,Pi(s))},hu=function(r){r=Pi(r),Tr(r),xn(r.horizontal?ou(r):au(r),r)},cu=function(r,s){s=Pi(s),Tr(s);var c=s.horizontal?ra(s):oa(s);xn(r+c,s)};wi.default={animateTopScroll:xn,getAnimationType:na,scrollToTop:uu,scrollToBottom:hu,scrollTo:lu,scrollMore:cu};Object.defineProperty(Ue,"__esModule",{value:!0});var fu=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])}return a},du=bn,_u=Sr(du),pu=wi,mu=Sr(pu),vu=Pn,ai=Sr(vu);function Sr(a){return a&&a.__esModule?a:{default:a}}var si={},So=void 0;Ue.default={unmount:function(){si={}},register:function(r,s){si[r]=s},unregister:function(r){delete si[r]},get:function(r){return si[r]||document.getElementById(r)||document.getElementsByName(r)[0]||document.getElementsByClassName(r)[0]},setActiveLink:function(r){return So=r},getActiveLink:function(){return So},scrollTo:function(r,s){var c=this.get(r);if(!c){console.warn("target Element not found");return}s=fu({},s,{absolute:!1});var f=s.containerId,S=s.container,y=void 0;f?y=document.getElementById(f):S&&S.nodeType?y=S:y=document,s.absolute=!0;var P=s.horizontal,T=_u.default.scrollOffset(y,c,P)+(s.offset||0);if(!s.smooth){ai.default.registered.begin&&ai.default.registered.begin(r,c),y===document?s.horizontal?window.scrollTo(T,0):window.scrollTo(0,T):y.scrollTop=T,ai.default.registered.end&&ai.default.registered.end(r,c);return}mu.default.animateTopScroll(T,s,r,c)}};var xi={};Object.defineProperty(xi,"__esModule",{value:!0});var gu=bn,lr=yu(gu);function yu(a){return a&&a.__esModule?a:{default:a}}var wu={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(r){this.scroller=r,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(r,s){this.containers[r]=s},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var r=this,s=this.getHash();s?window.setTimeout(function(){r.scrollTo(s,!0),r.initialized=!0},10):this.initialized=!0},scrollTo:function(r,s){var c=this.scroller,f=c.get(r);if(f&&(s||r!==c.getActiveLink())){var S=this.containers[r]||document;c.scrollTo(r,{container:S})}},getHash:function(){return lr.default.getHash()},changeHash:function(r,s){this.isInitialized()&&lr.default.getHash()!==r&&lr.default.updateHash(r,s)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};xi.default=wu;Object.defineProperty(gn,"__esModule",{value:!0});var ui=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])}return a},bu=function(){function a(r,s){for(var c=0;c<s.length;c++){var f=s[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(r,f.key,f)}}return function(r,s,c){return s&&a(r.prototype,s),c&&a(r,c),r}}(),Pu=ae,Eo=Ln(Pu),xu=yn,li=Ln(xu),Lu=Ue,Tu=Ln(Lu),Su=yi,pt=Ln(Su),Eu=xi,de=Ln(Eu);function Ln(a){return a&&a.__esModule?a:{default:a}}function Au(a,r){if(!(a instanceof r))throw new TypeError("Cannot call a class as a function")}function Ou(a,r){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:a}function Mu(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);a.prototype=Object.create(r&&r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(a,r):a.__proto__=r)}var Ao={to:pt.default.string.isRequired,containerId:pt.default.string,container:pt.default.object,activeClass:pt.default.string,activeStyle:pt.default.object,spy:pt.default.bool,horizontal:pt.default.bool,smooth:pt.default.oneOfType([pt.default.bool,pt.default.string]),offset:pt.default.number,delay:pt.default.number,isDynamic:pt.default.bool,onClick:pt.default.func,duration:pt.default.oneOfType([pt.default.number,pt.default.func]),absolute:pt.default.bool,onSetActive:pt.default.func,onSetInactive:pt.default.func,ignoreCancelEvents:pt.default.bool,hashSpy:pt.default.bool,saveHashHistory:pt.default.bool,spyThrottle:pt.default.number};gn.default=function(a,r){var s=r||Tu.default,c=function(S){Mu(y,S);function y(P){Au(this,y);var T=Ou(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,P));return f.call(T),T.state={active:!1},T}return bu(y,[{key:"getScrollSpyContainer",value:function(){var T=this.props.containerId,M=this.props.container;return T&&!M?document.getElementById(T):M&&M.nodeType?M:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var T=this.getScrollSpyContainer();li.default.isMounted(T)||li.default.mount(T,this.props.spyThrottle),this.props.hashSpy&&(de.default.isMounted()||de.default.mount(s),de.default.mapContainer(this.props.to,T)),li.default.addSpyHandler(this.spyHandler,T),this.setState({container:T})}}},{key:"componentWillUnmount",value:function(){li.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var T="";this.state&&this.state.active?T=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():T=this.props.className;var M={};this.state&&this.state.active?M=ui({},this.props.style,this.props.activeStyle):M=ui({},this.props.style);var z=ui({},this.props);for(var x in Ao)z.hasOwnProperty(x)&&delete z[x];return z.className=T,z.style=M,z.onClick=this.handleClick,Eo.default.createElement(a,z)}}]),y}(Eo.default.PureComponent),f=function(){var y=this;this.scrollTo=function(P,T){s.scrollTo(P,ui({},y.state,T))},this.handleClick=function(P){y.props.onClick&&y.props.onClick(P),P.stopPropagation&&P.stopPropagation(),P.preventDefault&&P.preventDefault(),y.scrollTo(y.props.to,y.props)},this.spyHandler=function(P,T){var M=y.getScrollSpyContainer();if(!(de.default.isMounted()&&!de.default.isInitialized())){var z=y.props.horizontal,x=y.props.to,B=null,U=void 0,Y=void 0;if(z){var W=0,tt=0,ut=0;if(M.getBoundingClientRect){var ot=M.getBoundingClientRect();ut=ot.left}if(!B||y.props.isDynamic){if(B=s.get(x),!B)return;var _t=B.getBoundingClientRect();W=_t.left-ut+P,tt=W+_t.width}var wt=P-y.props.offset;U=wt>=Math.floor(W)&&wt<Math.floor(tt),Y=wt<Math.floor(W)||wt>=Math.floor(tt)}else{var k=0,Z=0,F=0;if(M.getBoundingClientRect){var $=M.getBoundingClientRect();F=$.top}if(!B||y.props.isDynamic){if(B=s.get(x),!B)return;var ht=B.getBoundingClientRect();k=ht.top-F+T,Z=k+ht.height}var bt=T-y.props.offset;U=bt>=Math.floor(k)&&bt<Math.floor(Z),Y=bt<Math.floor(k)||bt>=Math.floor(Z)}var at=s.getActiveLink();if(Y){if(x===at&&s.setActiveLink(void 0),y.props.hashSpy&&de.default.getHash()===x){var lt=y.props.saveHashHistory,Ct=lt===void 0?!1:lt;de.default.changeHash("",Ct)}y.props.spy&&y.state.active&&(y.setState({active:!1}),y.props.onSetInactive&&y.props.onSetInactive(x,B))}if(U&&(at!==x||y.state.active===!1)){s.setActiveLink(x);var xt=y.props.saveHashHistory,se=xt===void 0?!1:xt;y.props.hashSpy&&de.default.changeHash(x,se),y.props.spy&&(y.setState({active:!0}),y.props.onSetActive&&y.props.onSetActive(x,B))}}}};return c.propTypes=Ao,c.defaultProps={offset:0},c};Object.defineProperty(Pr,"__esModule",{value:!0});var Iu=ae,Oo=aa(Iu),Cu=gn,ku=aa(Cu);function aa(a){return a&&a.__esModule?a:{default:a}}function Bu(a,r){if(!(a instanceof r))throw new TypeError("Cannot call a class as a function")}function Mo(a,r){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:a}function zu(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);a.prototype=Object.create(r&&r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(a,r):a.__proto__=r)}var Ru=function(a){zu(r,a);function r(){var s,c,f,S;Bu(this,r);for(var y=arguments.length,P=Array(y),T=0;T<y;T++)P[T]=arguments[T];return S=(c=(f=Mo(this,(s=r.__proto__||Object.getPrototypeOf(r)).call.apply(s,[this].concat(P))),f),f.render=function(){return Oo.default.createElement("a",f.props,f.props.children)},c),Mo(f,S)}return r}(Oo.default.Component);Pr.default=(0,ku.default)(Ru);var Er={};Object.defineProperty(Er,"__esModule",{value:!0});var Du=function(){function a(r,s){for(var c=0;c<s.length;c++){var f=s[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(r,f.key,f)}}return function(r,s,c){return s&&a(r.prototype,s),c&&a(r,c),r}}(),Zu=ae,Io=sa(Zu),Nu=gn,Fu=sa(Nu);function sa(a){return a&&a.__esModule?a:{default:a}}function Hu(a,r){if(!(a instanceof r))throw new TypeError("Cannot call a class as a function")}function Wu(a,r){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:a}function ju(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);a.prototype=Object.create(r&&r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(a,r):a.__proto__=r)}var Uu=function(a){ju(r,a);function r(){return Hu(this,r),Wu(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return Du(r,[{key:"render",value:function(){return Io.default.createElement("button",this.props,this.props.children)}}]),r}(Io.default.Component);Er.default=(0,Fu.default)(Uu);var Ar={},Li={};Object.defineProperty(Li,"__esModule",{value:!0});var Ku=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])}return a},Vu=function(){function a(r,s){for(var c=0;c<s.length;c++){var f=s[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(r,f.key,f)}}return function(r,s,c){return s&&a(r.prototype,s),c&&a(r,c),r}}(),qu=ae,Co=Ti(qu),Gu=ws;Ti(Gu);var Yu=Ue,ko=Ti(Yu),$u=yi,Bo=Ti($u);function Ti(a){return a&&a.__esModule?a:{default:a}}function Xu(a,r){if(!(a instanceof r))throw new TypeError("Cannot call a class as a function")}function Qu(a,r){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:a}function Ju(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);a.prototype=Object.create(r&&r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(a,r):a.__proto__=r)}Li.default=function(a){var r=function(s){Ju(c,s);function c(f){Xu(this,c);var S=Qu(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,f));return S.childBindings={domNode:null},S}return Vu(c,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(S){this.props.name!==S.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;ko.default.unregister(this.props.name)}},{key:"registerElems",value:function(S){ko.default.register(S,this.childBindings.domNode)}},{key:"render",value:function(){return Co.default.createElement(a,Ku({},this.props,{parentBindings:this.childBindings}))}}]),c}(Co.default.Component);return r.propTypes={name:Bo.default.string,id:Bo.default.string},r};Object.defineProperty(Ar,"__esModule",{value:!0});var zo=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])}return a},tl=function(){function a(r,s){for(var c=0;c<s.length;c++){var f=s[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(r,f.key,f)}}return function(r,s,c){return s&&a(r.prototype,s),c&&a(r,c),r}}(),el=ae,Ro=Or(el),nl=Li,il=Or(nl),rl=yi,Do=Or(rl);function Or(a){return a&&a.__esModule?a:{default:a}}function ol(a,r){if(!(a instanceof r))throw new TypeError("Cannot call a class as a function")}function al(a,r){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:a}function sl(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);a.prototype=Object.create(r&&r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(a,r):a.__proto__=r)}var ua=function(a){sl(r,a);function r(){return ol(this,r),al(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return tl(r,[{key:"render",value:function(){var c=this,f=zo({},this.props);return delete f.name,f.parentBindings&&delete f.parentBindings,Ro.default.createElement("div",zo({},f,{ref:function(y){c.props.parentBindings.domNode=y}}),this.props.children)}}]),r}(Ro.default.Component);ua.propTypes={name:Do.default.string,id:Do.default.string};Ar.default=(0,il.default)(ua);var hr=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])}return a},Zo=function(){function a(r,s){for(var c=0;c<s.length;c++){var f=s[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(r,f.key,f)}}return function(r,s,c){return s&&a(r.prototype,s),c&&a(r,c),r}}();function No(a,r){if(!(a instanceof r))throw new TypeError("Cannot call a class as a function")}function Fo(a,r){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:a}function Ho(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);a.prototype=Object.create(r&&r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(a,r):a.__proto__=r)}var hi=ae,Ee=yn,cr=Ue,vt=yi,_e=xi,Wo={to:vt.string.isRequired,containerId:vt.string,container:vt.object,activeClass:vt.string,spy:vt.bool,smooth:vt.oneOfType([vt.bool,vt.string]),offset:vt.number,delay:vt.number,isDynamic:vt.bool,onClick:vt.func,duration:vt.oneOfType([vt.number,vt.func]),absolute:vt.bool,onSetActive:vt.func,onSetInactive:vt.func,ignoreCancelEvents:vt.bool,hashSpy:vt.bool,spyThrottle:vt.number},ul={Scroll:function(r,s){console.warn("Helpers.Scroll is deprecated since v1.7.0");var c=s||cr,f=function(y){Ho(P,y);function P(T){No(this,P);var M=Fo(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,T));return S.call(M),M.state={active:!1},M}return Zo(P,[{key:"getScrollSpyContainer",value:function(){var M=this.props.containerId,z=this.props.container;return M?document.getElementById(M):z&&z.nodeType?z:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var M=this.getScrollSpyContainer();Ee.isMounted(M)||Ee.mount(M,this.props.spyThrottle),this.props.hashSpy&&(_e.isMounted()||_e.mount(c),_e.mapContainer(this.props.to,M)),this.props.spy&&Ee.addStateHandler(this.stateHandler),Ee.addSpyHandler(this.spyHandler,M),this.setState({container:M})}}},{key:"componentWillUnmount",value:function(){Ee.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var M="";this.state&&this.state.active?M=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():M=this.props.className;var z=hr({},this.props);for(var x in Wo)z.hasOwnProperty(x)&&delete z[x];return z.className=M,z.onClick=this.handleClick,hi.createElement(r,z)}}]),P}(hi.Component),S=function(){var P=this;this.scrollTo=function(T,M){c.scrollTo(T,hr({},P.state,M))},this.handleClick=function(T){P.props.onClick&&P.props.onClick(T),T.stopPropagation&&T.stopPropagation(),T.preventDefault&&T.preventDefault(),P.scrollTo(P.props.to,P.props)},this.stateHandler=function(){c.getActiveLink()!==P.props.to&&(P.state!==null&&P.state.active&&P.props.onSetInactive&&P.props.onSetInactive(),P.setState({active:!1}))},this.spyHandler=function(T){var M=P.getScrollSpyContainer();if(!(_e.isMounted()&&!_e.isInitialized())){var z=P.props.to,x=null,B=0,U=0,Y=0;if(M.getBoundingClientRect){var W=M.getBoundingClientRect();Y=W.top}if(!x||P.props.isDynamic){if(x=c.get(z),!x)return;var tt=x.getBoundingClientRect();B=tt.top-Y+T,U=B+tt.height}var ut=T-P.props.offset,ot=ut>=Math.floor(B)&&ut<Math.floor(U),_t=ut<Math.floor(B)||ut>=Math.floor(U),wt=c.getActiveLink();if(_t)return z===wt&&c.setActiveLink(void 0),P.props.hashSpy&&_e.getHash()===z&&_e.changeHash(),P.props.spy&&P.state.active&&(P.setState({active:!1}),P.props.onSetInactive&&P.props.onSetInactive()),Ee.updateStates();if(ot&&wt!==z)return c.setActiveLink(z),P.props.hashSpy&&_e.changeHash(z),P.props.spy&&(P.setState({active:!0}),P.props.onSetActive&&P.props.onSetActive(z)),Ee.updateStates()}}};return f.propTypes=Wo,f.defaultProps={offset:0},f},Element:function(r){console.warn("Helpers.Element is deprecated since v1.7.0");var s=function(c){Ho(f,c);function f(S){No(this,f);var y=Fo(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,S));return y.childBindings={domNode:null},y}return Zo(f,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(y){this.props.name!==y.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;cr.unregister(this.props.name)}},{key:"registerElems",value:function(y){cr.register(y,this.childBindings.domNode)}},{key:"render",value:function(){return hi.createElement(r,hr({},this.props,{parentBindings:this.childBindings}))}}]),f}(hi.Component);return s.propTypes={name:vt.string,id:vt.string},s}},ll=ul;Object.defineProperty(yt,"__esModule",{value:!0});yt.Helpers=yt.ScrollElement=yt.ScrollLink=yt.animateScroll=yt.scrollSpy=yt.Events=ya=yt.scroller=yt.Element=yt.Button=wl=yt.Link=void 0;var hl=Pr,la=Xt(hl),cl=Er,ha=Xt(cl),fl=Ar,ca=Xt(fl),dl=Ue,fa=Xt(dl),_l=Pn,da=Xt(_l),pl=yn,_a=Xt(pl),ml=wi,pa=Xt(ml),vl=gn,ma=Xt(vl),gl=Li,va=Xt(gl),yl=ll,ga=Xt(yl);function Xt(a){return a&&a.__esModule?a:{default:a}}var wl=yt.Link=la.default;yt.Button=ha.default;yt.Element=ca.default;var ya=yt.scroller=fa.default;yt.Events=da.default;yt.scrollSpy=_a.default;yt.animateScroll=pa.default;yt.ScrollLink=ma.default;yt.ScrollElement=va.default;yt.Helpers=ga.default;yt.default={Link:la.default,Button:ha.default,Element:ca.default,scroller:fa.default,Events:da.default,scrollSpy:_a.default,animateScroll:pa.default,ScrollLink:ma.default,ScrollElement:va.default,Helpers:ga.default};var ci={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var jo;function bl(){return jo||(jo=1,function(a,r){(function(s,c){c(r)})(re,function(s){var c="1.9.4";function f(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++){o=arguments[n];for(e in o)t[e]=o[e]}return t}var S=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function y(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var P=0;function T(t){return"_leaflet_id"in t||(t._leaflet_id=++P),t._leaflet_id}function M(t,e,n){var i,o,u,_;return _=function(){i=!1,o&&(u.apply(n,o),o=!1)},u=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(_,e),i=!0)},u}function z(t,e,n){var i=e[1],o=e[0],u=i-o;return t===i&&n?t:((t-o)%u+u)%u+o}function x(){return!1}function B(t,e){if(e===!1)return t;var n=Math.pow(10,e===void 0?6:e);return Math.round(t*n)/n}function U(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Y(t){return U(t).split(/\s+/)}function W(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?S(t.options):{});for(var n in e)t.options[n]=e[n];return t.options}function tt(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(!e||e.indexOf("?")===-1?"?":"&")+i.join("&")}var ut=/\{ *([\w_ -]+) *\}/g;function ot(t,e){return t.replace(ut,function(n,i){var o=e[i];if(o===void 0)throw new Error("No value provided for variable "+n);return typeof o=="function"&&(o=o(e)),o})}var _t=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function wt(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var k="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var F=0;function $(t){var e=+new Date,n=Math.max(0,16-(e-F));return F=e+n,window.setTimeout(t,n)}var ht=window.requestAnimationFrame||Z("RequestAnimationFrame")||$,bt=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function at(t,e,n){if(n&&ht===$)t.call(e);else return ht.call(window,y(t,e))}function lt(t){t&&bt.call(window,t)}var Ct={__proto__:null,extend:f,create:S,bind:y,get lastId(){return P},stamp:T,throttle:M,wrapNum:z,falseFn:x,formatNum:B,trim:U,splitWords:Y,setOptions:W,getParamString:tt,template:ot,isArray:_t,indexOf:wt,emptyImageUrl:k,requestFn:ht,cancelFn:bt,requestAnimFrame:at,cancelAnimFrame:lt};function xt(){}xt.extend=function(t){var e=function(){W(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,i=S(n);i.constructor=e,e.prototype=i;for(var o in this)Object.prototype.hasOwnProperty.call(this,o)&&o!=="prototype"&&o!=="__super__"&&(e[o]=this[o]);return t.statics&&f(e,t.statics),t.includes&&(se(t.includes),f.apply(null,[i].concat(t.includes))),f(i,t),delete i.statics,delete i.includes,i.options&&(i.options=n.options?S(n.options):{},f(i.options,t.options)),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var u=0,_=i._initHooks.length;u<_;u++)i._initHooks[u].call(this)}},e},xt.include=function(t){var e=this.prototype.options;return f(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},xt.mergeOptions=function(t){return f(this.prototype.options,t),this},xt.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};function se(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=_t(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Tt={on:function(t,e,n){if(typeof t=="object")for(var i in t)this._on(i,t[i],e);else{t=Y(t);for(var o=0,u=t.length;o<u;o++)this._on(t[o],e,n)}return this},off:function(t,e,n){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var i in t)this._off(i,t[i],e);else{t=Y(t);for(var o=arguments.length===1,u=0,_=t.length;u<_;u++)o?this._off(t[u]):this._off(t[u],e,n)}return this},_on:function(t,e,n,i){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,n)===!1){n===this&&(n=void 0);var o={fn:e,ctx:n};i&&(o.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(o)}},_off:function(t,e,n){var i,o,u;if(this._events&&(i=this._events[t],!!i)){if(arguments.length===1){if(this._firingCount)for(o=0,u=i.length;o<u;o++)i[o].fn=x;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var _=this._listens(t,e,n);if(_!==!1){var g=i[_];this._firingCount&&(g.fn=x,this._events[t]=i=i.slice()),i.splice(_,1)}}},fire:function(t,e,n){if(!this.listens(t,n))return this;var i=f({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var u=0,_=o.length;u<_;u++){var g=o[u],w=g.fn;g.once&&this.off(t,w,g.ctx),w.call(g.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(t,e,n,i){typeof t!="string"&&console.warn('"string" type argument expected');var o=e;typeof e!="function"&&(i=!!e,o=void 0,n=void 0);var u=this._events&&this._events[t];if(u&&u.length&&this._listens(t,o,n)!==!1)return!0;if(i){for(var _ in this._eventParents)if(this._eventParents[_].listens(t,e,n,i))return!0}return!1},_listens:function(t,e,n){if(!this._events)return!1;var i=this._events[t]||[];if(!e)return!!i.length;n===this&&(n=void 0);for(var o=0,u=i.length;o<u;o++)if(i[o].fn===e&&i[o].ctx===n)return o;return!1},once:function(t,e,n){if(typeof t=="object")for(var i in t)this._on(i,t[i],e,!0);else{t=Y(t);for(var o=0,u=t.length;o<u;o++)this._on(t[o],e,n,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[T(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[T(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,f({layer:t.target,propagatedFrom:t.target},t),!0)}};Tt.addEventListener=Tt.on,Tt.removeEventListener=Tt.clearAllEventListeners=Tt.off,Tt.addOneTimeEventListener=Tt.once,Tt.fireEvent=Tt.fire,Tt.hasEventListeners=Tt.listens;var Rt=xt.extend(Tt);function q(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var Tn=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};q.prototype={clone:function(){return new q(this.x,this.y)},add:function(t){return this.clone()._add(K(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(K(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new q(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new q(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Tn(this.x),this.y=Tn(this.y),this},distanceTo:function(t){t=K(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=K(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=K(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+B(this.x)+", "+B(this.y)+")"}};function K(t,e,n){return t instanceof q?t:_t(t)?new q(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new q(t.x,t.y):new q(t,e,n)}function rt(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}rt.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof q||typeof t[0]=="number"||"x"in t)e=n=K(t);else if(t=St(t),e=t.min,n=t.max,!e||!n)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=n.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)),this},getCenter:function(t){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return typeof t[0]=="number"||t instanceof q?t=K(t):t=St(t),t instanceof rt?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=St(t);var e=this.min,n=this.max,i=t.min,o=t.max,u=o.x>=e.x&&i.x<=n.x,_=o.y>=e.y&&i.y<=n.y;return u&&_},overlaps:function(t){t=St(t);var e=this.min,n=this.max,i=t.min,o=t.max,u=o.x>e.x&&i.x<n.x,_=o.y>e.y&&i.y<n.y;return u&&_},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,n=this.max,i=Math.abs(e.x-n.x)*t,o=Math.abs(e.y-n.y)*t;return St(K(e.x-i,e.y-o),K(n.x+i,n.y+o))},equals:function(t){return t?(t=St(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function St(t,e){return!t||t instanceof rt?t:new rt(t,e)}function At(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}At.prototype={extend:function(t){var e=this._southWest,n=this._northEast,i,o;if(t instanceof st)i=t,o=t;else if(t instanceof At){if(i=t._southWest,o=t._northEast,!i||!o)return this}else return t?this.extend(J(t)||gt(t)):this;return!e&&!n?(this._southWest=new st(i.lat,i.lng),this._northEast=new st(o.lat,o.lng)):(e.lat=Math.min(i.lat,e.lat),e.lng=Math.min(i.lng,e.lng),n.lat=Math.max(o.lat,n.lat),n.lng=Math.max(o.lng,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new At(new st(e.lat-i,e.lng-o),new st(n.lat+i,n.lng+o))},getCenter:function(){return new st((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new st(this.getNorth(),this.getWest())},getSouthEast:function(){return new st(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof st||"lat"in t?t=J(t):t=gt(t);var e=this._southWest,n=this._northEast,i,o;return t instanceof At?(i=t.getSouthWest(),o=t.getNorthEast()):i=o=t,i.lat>=e.lat&&o.lat<=n.lat&&i.lng>=e.lng&&o.lng<=n.lng},intersects:function(t){t=gt(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),u=o.lat>=e.lat&&i.lat<=n.lat,_=o.lng>=e.lng&&i.lng<=n.lng;return u&&_},overlaps:function(t){t=gt(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),u=o.lat>e.lat&&i.lat<n.lat,_=o.lng>e.lng&&i.lng<n.lng;return u&&_},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=gt(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function gt(t,e){return t instanceof At?t:new At(t,e)}function st(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,n!==void 0&&(this.alt=+n)}st.prototype={equals:function(t,e){if(!t)return!1;t=J(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+B(this.lat,t)+", "+B(this.lng,t)+")"},distanceTo:function(t){return Vt.distance(this,J(t))},wrap:function(){return Vt.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return gt([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new st(this.lat,this.lng,this.alt)}};function J(t,e,n){return t instanceof st?t:_t(t)&&typeof t[0]!="object"?t.length===3?new st(t[0],t[1],t[2]):t.length===2?new st(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new st(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new st(t,e,n)}var Nt={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),i=this.transformation.transform(e.min,n),o=this.transformation.transform(e.max,n);return new rt(i,o)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?z(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?z(t.lat,this.wrapLat,!0):t.lat,i=t.alt;return new st(n,e,i)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(i===0&&o===0)return t;var u=t.getSouthWest(),_=t.getNorthEast(),g=new st(u.lat-i,u.lng-o),w=new st(_.lat-i,_.lng-o);return new At(g,w)}},Vt=f({},Nt,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,u=Math.sin((e.lat-t.lat)*n/2),_=Math.sin((e.lng-t.lng)*n/2),g=u*u+Math.cos(i)*Math.cos(o)*_*_,w=2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g));return this.R*w}}),Sn=6378137,Ve={R:Sn,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new q(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new st((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=Sn*Math.PI;return new rt([-t,-t],[t,t])}()};function qe(t,e,n,i){if(_t(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=n,this._d=i}qe.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new q((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function pe(t,e,n,i){return new qe(t,e,n,i)}var Ge=f({},Vt,{code:"EPSG:3857",projection:Ve,transformation:function(){var t=.5/(Math.PI*Ve.R);return pe(t,.5,-t,.5)}()}),Si=f({},Ge,{code:"EPSG:900913"});function Ft(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function En(t,e){var n="",i,o,u,_,g,w;for(i=0,u=t.length;i<u;i++){for(g=t[i],o=0,_=g.length;o<_;o++)w=g[o],n+=(o?"L":"M")+w.x+" "+w.y;n+=e?N.svg?"z":"x":""}return n||"M0 0"}var Me=document.documentElement.style,Qt="ActiveXObject"in window,Ye=Qt&&!document.addEventListener,Ie="msLaunchUri"in navigator&&!("documentMode"in document),me=kt("webkit"),$e=kt("android"),Xe=kt("android 2")||kt("android 3"),An=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),On=$e&&kt("Google")&&An<537&&!("AudioNode"in window),Ce=!!window.opera,Qe=!Ie&&kt("chrome"),Je=kt("gecko")&&!me&&!Ce&&!Qt,Mn=!Qe&&kt("safari"),tn=kt("phantom"),en="OTransition"in Me,In=navigator.platform.indexOf("Win")===0,nn=Qt&&"transition"in Me,ve="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Xe,Cn="MozPerspective"in Me,Ei=!window.L_DISABLE_3D&&(nn||ve||Cn)&&!en&&!tn,Jt=typeof orientation<"u"||kt("mobile"),kn=Jt&&me,Ai=Jt&&ve,Ht=!window.PointerEvent&&window.MSPointerEvent,Bn=!!(window.PointerEvent||Ht),zn="ontouchstart"in window||!!window.TouchEvent,Rn=!window.L_NO_TOUCH&&(zn||Bn),Oi=Jt&&Ce,Mi=Jt&&Je,Ii=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ci=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",x,e),window.removeEventListener("testPassiveEventSupport",x,e)}catch{}return t}(),ki=function(){return!!document.createElement("canvas").getContext}(),rn=!!(document.createElementNS&&Ft("svg").createSVGRect),Bi=!!rn&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),zi=!rn&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}}(),Ri=navigator.platform.indexOf("Mac")===0,Di=navigator.platform.indexOf("Linux")===0;function kt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var N={ie:Qt,ielt9:Ye,edge:Ie,webkit:me,android:$e,android23:Xe,androidStock:On,opera:Ce,chrome:Qe,gecko:Je,safari:Mn,phantom:tn,opera12:en,win:In,ie3d:nn,webkit3d:ve,gecko3d:Cn,any3d:Ei,mobile:Jt,mobileWebkit:kn,mobileWebkit3d:Ai,msPointer:Ht,pointer:Bn,touch:Rn,touchNative:zn,mobileOpera:Oi,mobileGecko:Mi,retina:Ii,passiveEvents:Ci,canvas:ki,svg:rn,vml:zi,inlineSvg:Bi,mac:Ri,linux:Di},Dn=N.msPointer?"MSPointerDown":"pointerdown",Zn=N.msPointer?"MSPointerMove":"pointermove",Nn=N.msPointer?"MSPointerUp":"pointerup",Fn=N.msPointer?"MSPointerCancel":"pointercancel",on={touchstart:Dn,touchmove:Zn,touchend:Nn,touchcancel:Fn},Hn={touchstart:ye,touchmove:ge,touchend:ge,touchcancel:ge},ue={},Wn=!1;function Zi(t,e,n){return e==="touchstart"&&Wi(),Hn[e]?(n=Hn[e].bind(this,n),t.addEventListener(on[e],n,!1),n):(console.warn("wrong event specified:",e),x)}function Ni(t,e,n){if(!on[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(on[e],n,!1)}function Fi(t){ue[t.pointerId]=t}function Hi(t){ue[t.pointerId]&&(ue[t.pointerId]=t)}function jn(t){delete ue[t.pointerId]}function Wi(){Wn||(document.addEventListener(Dn,Fi,!0),document.addEventListener(Zn,Hi,!0),document.addEventListener(Nn,jn,!0),document.addEventListener(Fn,jn,!0),Wn=!0)}function ge(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var n in ue)e.touches.push(ue[n]);e.changedTouches=[e],t(e)}}function ye(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Et(e),ge(t,e)}function Un(t){var e={},n,i;for(i in t)n=t[i],e[i]=n&&n.bind?n.bind(t):n;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var le=200;function ji(t,e){t.addEventListener("dblclick",e);var n=0,i;function o(u){if(u.detail!==1){i=u.detail;return}if(!(u.pointerType==="mouse"||u.sourceCapabilities&&!u.sourceCapabilities.firesTouchEvents)){var _=Zr(u);if(!(_.some(function(w){return w instanceof HTMLLabelElement&&w.attributes.for})&&!_.some(function(w){return w instanceof HTMLInputElement||w instanceof HTMLSelectElement}))){var g=Date.now();g-n<=le?(i++,i===2&&e(Un(u))):i=1,n=g}}}return t.addEventListener("click",o),{dblclick:e,simDblclick:o}}function ke(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var we=D(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),be=D(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Kn=be==="webkitTransition"||be==="OTransition"?be+"End":"transitionend";function Be(t){return typeof t=="string"?document.getElementById(t):t}function Pe(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||n==="auto")&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return n==="auto"?null:n}function nt(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function l(t){var e=t.parentNode;e&&e.removeChild(t)}function p(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function h(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function m(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function v(t,e){if(t.classList!==void 0)return t.classList.contains(e);var n=I(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function d(t,e){if(t.classList!==void 0)for(var n=Y(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!v(t,e)){var u=I(t);A(t,(u?u+" ":"")+e)}}function b(t,e){t.classList!==void 0?t.classList.remove(e):A(t,U((" "+I(t)+" ").replace(" "+e+" "," ")))}function A(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function I(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function O(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&C(t,e)}function C(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch{if(e===1)return}e=Math.round(e*100),n?(n.Enabled=e!==100,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function D(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function V(t,e,n){var i=e||new q(0,0);t.style[we]=(N.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function H(t,e){t._leaflet_pos=e,N.any3d?V(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Q(t){return t._leaflet_pos||new q(0,0)}var ft,ct,Ot;if("onselectstart"in document)ft=function(){G(window,"selectstart",Et)},ct=function(){dt(window,"selectstart",Et)};else{var Wt=D(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ft=function(){if(Wt){var t=document.documentElement.style;Ot=t[Wt],t[Wt]="none"}},ct=function(){Wt&&(document.documentElement.style[Wt]=Ot,Ot=void 0)}}function xe(){G(window,"dragstart",Et)}function an(){dt(window,"dragstart",Et)}var he,Vn;function sn(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(ze(),he=t,Vn=t.style.outlineStyle,t.style.outlineStyle="none",G(window,"keydown",ze))}function ze(){he&&(he.style.outlineStyle=Vn,he=void 0,Vn=void 0,dt(window,"keydown",ze))}function un(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Ui(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Sa={__proto__:null,TRANSFORM:we,TRANSITION:be,TRANSITION_END:Kn,get:Be,getStyle:Pe,create:nt,remove:l,empty:p,toFront:h,toBack:m,hasClass:v,addClass:d,removeClass:b,setClass:A,getClass:I,setOpacity:O,testProp:D,setTransform:V,setPosition:H,getPosition:Q,get disableTextSelection(){return ft},get enableTextSelection(){return ct},disableImageDrag:xe,enableImageDrag:an,preventOutline:sn,restoreOutline:ze,getSizedParentNode:un,getScale:Ui};function G(t,e,n,i){if(e&&typeof e=="object")for(var o in e)Vi(t,o,e[o],n);else{e=Y(e);for(var u=0,_=e.length;u<_;u++)Vi(t,e[u],n,i)}return this}var qt="_leaflet_events";function dt(t,e,n,i){if(arguments.length===1)Dr(t),delete t[qt];else if(e&&typeof e=="object")for(var o in e)qi(t,o,e[o],n);else if(e=Y(e),arguments.length===2)Dr(t,function(g){return wt(e,g)!==-1});else for(var u=0,_=e.length;u<_;u++)qi(t,e[u],n,i);return this}function Dr(t,e){for(var n in t[qt]){var i=n.split(/\d/)[0];(!e||e(i))&&qi(t,i,null,null,n)}}var Ki={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vi(t,e,n,i){var o=e+T(n)+(i?"_"+T(i):"");if(t[qt]&&t[qt][o])return this;var u=function(g){return n.call(i||t,g||window.event)},_=u;!N.touchNative&&N.pointer&&e.indexOf("touch")===0?u=Zi(t,e,u):N.touch&&e==="dblclick"?u=ji(t,u):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(Ki[e]||e,u,N.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(u=function(g){g=g||window.event,Yi(t,g)&&_(g)},t.addEventListener(Ki[e],u,!1)):t.addEventListener(e,_,!1):t.attachEvent("on"+e,u),t[qt]=t[qt]||{},t[qt][o]=u}function qi(t,e,n,i,o){o=o||e+T(n)+(i?"_"+T(i):"");var u=t[qt]&&t[qt][o];if(!u)return this;!N.touchNative&&N.pointer&&e.indexOf("touch")===0?Ni(t,e,u):N.touch&&e==="dblclick"?ke(t,u):"removeEventListener"in t?t.removeEventListener(Ki[e]||e,u,!1):t.detachEvent("on"+e,u),t[qt][o]=null}function Le(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Gi(t){return Vi(t,"wheel",Le),this}function ln(t){return G(t,"mousedown touchstart dblclick contextmenu",Le),t._leaflet_disable_click=!0,this}function Et(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Te(t){return Et(t),Le(t),this}function Zr(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function Nr(t,e){if(!e)return new q(t.clientX,t.clientY);var n=Ui(e),i=n.boundingClientRect;return new q((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Ea=N.linux&&N.chrome?window.devicePixelRatio:N.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Fr(t){return N.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Ea:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Yi(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch{return!1}return n!==t}var Aa={__proto__:null,on:G,off:dt,stopPropagation:Le,disableScrollPropagation:Gi,disableClickPropagation:ln,preventDefault:Et,stop:Te,getPropagationPath:Zr,getMousePosition:Nr,getWheelDelta:Fr,isExternalTarget:Yi,addListener:G,removeListener:dt},Hr=Rt.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Q(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=at(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=this._duration*1e3;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),H(this._el,n),this.fire("step")},_complete:function(){lt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),it=Rt.extend({options:{crs:Ge,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=W(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=y(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(J(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=be&&N.any3d&&!N.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),G(this._proxy,Kn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(J(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==void 0&&(n.zoom=f({animate:n.animate},n.zoom),n.pan=f({animate:n.animate,duration:n.duration},n.pan));var i=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(i)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,n.pan&&n.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(N.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(N.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),u=t instanceof q?t:this.latLngToContainerPoint(t),_=u.subtract(o).multiplyBy(1-1/i),g=this.containerPointToLatLng(o.add(_));return this.setView(g,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():gt(t);var n=K(e.paddingTopLeft||e.padding||[0,0]),i=K(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));if(o=typeof e.maxZoom=="number"?Math.min(e.maxZoom,o):o,o===1/0)return{center:t.getCenter(),zoom:o};var u=i.subtract(n).divideBy(2),_=this.project(t.getSouthWest(),o),g=this.project(t.getNorthEast(),o),w=this.unproject(_.add(g).divideBy(2).add(u),o);return{center:w,zoom:o}},fitBounds:function(t,e){if(t=gt(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=K(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Hr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){d(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(n=n||{},n.animate===!1||!N.any3d)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),o=this.project(t),u=this.getSize(),_=this._zoom;t=J(t),e=e===void 0?_:e;var g=Math.max(u.x,u.y),w=g*this.getZoomScale(_,e),E=o.distanceTo(i)||1,R=1.42,j=R*R;function X(Pt){var ri=Pt?-1:1,ms=Pt?w:g,vs=w*w-g*g+ri*j*j*E*E,gs=2*ms*j*E,ar=vs/gs,Po=Math.sqrt(ar*ar+1)-ar,ys=Po<1e-9?-18:Math.log(Po);return ys}function Mt(Pt){return(Math.exp(Pt)-Math.exp(-Pt))/2}function Lt(Pt){return(Math.exp(Pt)+Math.exp(-Pt))/2}function Zt(Pt){return Mt(Pt)/Lt(Pt)}var It=X(0);function He(Pt){return g*(Lt(It)/Lt(It+R*Pt))}function fs(Pt){return g*(Lt(It)*Zt(It+R*Pt)-Mt(It))/j}function ds(Pt){return 1-Math.pow(1-Pt,1.5)}var _s=Date.now(),wo=(X(1)-It)/R,ps=n.duration?1e3*n.duration:1e3*wo*.8;function bo(){var Pt=(Date.now()-_s)/ps,ri=ds(Pt)*wo;Pt<=1?(this._flyToFrame=at(bo,this),this._move(this.unproject(i.add(o.subtract(i).multiplyBy(fs(ri)/E)),_),this.getScaleZoom(g/He(ri),_),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),bo.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=gt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,gt(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var n=K(e.paddingTopLeft||e.padding||[0,0]),i=K(e.paddingBottomRight||e.padding||[0,0]),o=this.project(this.getCenter()),u=this.project(t),_=this.getPixelBounds(),g=St([_.min.add(n),_.max.subtract(i)]),w=g.getSize();if(!g.contains(u)){this._enforcingBounds=!0;var E=u.subtract(g.getCenter()),R=g.extend(u).getSize().subtract(w);o.x+=E.x<0?-R.x:R.x,o.y+=E.y<0?-R.y:R.y,this.panTo(this.unproject(o),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=f({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),o=n.divideBy(2).round(),u=i.subtract(o);return!u.x&&!u.y?this:(t.animate&&t.pan?this.panBy(u):(t.pan&&this._rawPanBy(u),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(y(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=f({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=y(this._handleGeolocationResponse,this),n=y(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,n=t.coords.longitude,i=new st(e,n),o=i.toBounds(t.coords.accuracy*2),u=this._locateOptions;if(u.setView){var _=this.getBoundsZoom(o);this.setView(i,u.maxZoom?Math.min(_,u.maxZoom):_)}var g={latlng:i,bounds:o,timestamp:t.timestamp};for(var w in t.coords)typeof t.coords[w]=="number"&&(g[w]=t.coords[w]);this.fire("locationfound",g)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),l(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(lt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)l(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=nt("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new At(e,n)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=gt(t),n=K(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),u=this.getMaxZoom(),_=t.getNorthWest(),g=t.getSouthEast(),w=this.getSize().subtract(n),E=St(this.project(g,i),this.project(_,i)).getSize(),R=N.any3d?this.options.zoomSnap:1,j=w.x/E.x,X=w.y/E.y,Mt=e?Math.max(j,X):Math.min(j,X);return i=this.getScaleZoom(Mt,i),R&&(i=Math.round(i/(R/100))*(R/100),i=e?Math.ceil(i/R)*R:Math.floor(i/R)*R),Math.max(o,Math.min(u,i))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new rt(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=e===void 0?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=e===void 0?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(J(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(K(t),e)},layerPointToLatLng:function(t){var e=K(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(J(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(J(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(gt(t))},distance:function(t,e){return this.options.crs.distance(J(t),J(e))},containerPointToLayerPoint:function(t){return K(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return K(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(K(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(J(t)))},mouseEventToContainerPoint:function(t){return Nr(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=Be(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");G(e,"scroll",this._onScroll,this),this._containerId=T(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&N.any3d,d(t,"leaflet-container"+(N.touch?" leaflet-touch":"")+(N.retina?" leaflet-retina":"")+(N.ielt9?" leaflet-oldie":"")+(N.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=Pe(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),H(this._mapPane,new q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(d(t.markerPane,"leaflet-zoom-hide"),d(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){H(this._mapPane,new q(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var o=this._zoom!==e;this._moveStart(o,n)._move(t,e)._moveEnd(o),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,i){e===void 0&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),i?n&&n.pinch&&this.fire("zoom",n):((o||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return lt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){H(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[T(this._container)]=this;var e=t?dt:G;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),N.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){lt(this._resizeRequest),this._resizeRequest=at(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n=[],i,o=e==="mouseout"||e==="mouseover",u=t.target||t.srcElement,_=!1;u;){if(i=this._targets[T(u)],i&&(e==="click"||e==="preclick")&&this._draggableMoved(i)){_=!0;break}if(i&&i.listens(e,!0)&&(o&&!Yi(u,t)||(n.push(i),o))||u===this._container)break;u=u.parentNode}return!n.length&&!_&&!o&&this.listens(e,!0)&&(n=[this]),n},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var n=t.type;n==="mousedown"&&sn(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if(t.type==="click"){var i=f({},t);i.type="preclick",this._fireDOMEvent(i,i.type,n)}var o=this._findEventTargets(t,e);if(n){for(var u=[],_=0;_<n.length;_++)n[_].listens(e,!0)&&u.push(n[_]);o=u.concat(o)}if(o.length){e==="contextmenu"&&Et(t);var g=o[0],w={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var E=g.getLatLng&&(!g._radius||g._radius<=10);w.containerPoint=E?this.latLngToContainerPoint(g.getLatLng()):this.mouseEventToContainerPoint(t),w.layerPoint=this.containerPointToLayerPoint(w.containerPoint),w.latlng=E?g.getLatLng():this.layerPointToLatLng(w.layerPoint)}for(_=0;_<o.length;_++)if(o[_].fire(e,w,!0),w.originalEvent._stopped||o[_].options.bubblingMouseEvents===!1&&wt(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Q(this._mapPane)||new q(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return St([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),u=new rt(i.subtract(o),i.add(o)),_=this._getBoundsOffset(u,n,e);return Math.abs(_.x)<=1&&Math.abs(_.y)<=1?t:this.unproject(i.add(_),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new rt(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=St(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),u=i.max.subtract(t.max),_=this._rebound(o.x,-u.x),g=this._rebound(o.y,-u.y);return new q(_,g)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=N.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){b(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(n)?!1:(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=nt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var n=we,i=this._proxy.style[n];V(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),i===this._proxy.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){l(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();V(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return n.animate!==!0&&!this.getSize().contains(o)?!1:(at(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,d(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(y(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&b(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Oa(t,e){return new it(t,e)}var jt=xt.extend({options:{position:"topright"},initialize:function(t){W(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return d(e,"leaflet-control"),n.indexOf("bottom")!==-1?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(l(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),hn=function(t){return new jt(t)};it.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=nt("div",e+"control-container",this._container);function i(o,u){var _=e+o+" "+e+u;t[o+u]=nt("div",_,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)l(this._controlCorners[t]);l(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Wr=jt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){W(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return jt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(T(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){d(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(d(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):b(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return b(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=nt("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),ln(e),Gi(e);var i=this._section=nt("section",t+"-list");n&&(this._map.on("click",this.collapse,this),G(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var o=this._layersLink=nt("a",t+"-toggle",e);o.href="#",o.title="Layers",o.setAttribute("role","button"),G(o,{keydown:function(u){u.keyCode===13&&this._expandSafely()},click:function(u){Et(u),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=nt("div",t+"-base",i),this._separator=nt("div",t+"-separator",i),this._overlaysList=nt("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&T(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(y(function(i,o){return this.options.sortFunction(i.layer,o.layer,i.name,o.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;p(this._baseLayersList),p(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(T(t.target)),n=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e=document.createElement("label"),n=this._map.hasLayer(t.layer),i;t.overlay?(i=document.createElement("input"),i.type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=n):i=this._createRadioElement("leaflet-base-layers_"+T(this),n),this._layerControlInputs.push(i),i.layerId=T(t.layer),G(i,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var u=document.createElement("span");e.appendChild(u),u.appendChild(i),u.appendChild(o);var _=t.overlay?this._overlaysList:this._baseLayersList;return _.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,n,i=[],o=[];this._handlingClick=!0;for(var u=t.length-1;u>=0;u--)e=t[u],n=this._getLayer(e.layerId).layer,e.checked?i.push(n):e.checked||o.push(n);for(u=0;u<o.length;u++)this._map.hasLayer(o[u])&&this._map.removeLayer(o[u]);for(u=0;u<i.length;u++)this._map.hasLayer(i[u])||this._map.addLayer(i[u]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,n,i=this._map.getZoom(),o=t.length-1;o>=0;o--)e=t[o],n=this._getLayer(e.layerId).layer,e.disabled=n.options.minZoom!==void 0&&i<n.options.minZoom||n.options.maxZoom!==void 0&&i>n.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,G(t,"click",Et),this.expand();var e=this;setTimeout(function(){dt(t,"click",Et),e._preventClick=!1})}}),Ma=function(t,e,n){return new Wr(t,e,n)},$i=jt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=nt("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var u=nt("a",n,i);return u.innerHTML=t,u.href="#",u.title=e,u.setAttribute("role","button"),u.setAttribute("aria-label",e),ln(u),G(u,"click",Te),G(u,"click",o,this),G(u,"click",this._refocusOnMap,this),u},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";b(this._zoomInButton,e),b(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(d(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(d(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});it.mergeOptions({zoomControl:!0}),it.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $i,this.addControl(this.zoomControl))});var Ia=function(t){return new $i(t)},jr=jt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=nt("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=nt("div",e,n)),t.imperial&&(this._iScale=nt("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e=t*3.2808399,n,i,o;e>5280?(n=e/5280,i=this._getRoundNum(n),this._updateScale(this._iScale,i+" mi",i/n)):(o=this._getRoundNum(e),this._updateScale(this._iScale,o+" ft",o/e))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),Ca=function(t){return new jr(t)},ka='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xi=jt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(N.inlineSvg?ka+" ":"")+"Leaflet</a>"},initialize:function(t){W(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=nt("div","leaflet-control-attribution"),ln(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});it.mergeOptions({attributionControl:!0}),it.addInitHook(function(){this.options.attributionControl&&new Xi().addTo(this)});var Ba=function(t){return new Xi(t)};jt.Layers=Wr,jt.Zoom=$i,jt.Scale=jr,jt.Attribution=Xi,hn.layers=Ma,hn.zoom=Ia,hn.scale=Ca,hn.attribution=Ba;var Gt=xt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gt.addTo=function(t,e){return t.addHandler(e,this),this};var za={Events:Tt},Ur=N.touch?"touchstart mousedown":"mousedown",ce=Rt.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){W(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(G(this._dragStartTarget,Ur,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ce._dragging===this&&this.finishDrag(!0),dt(this._dragStartTarget,Ur,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!v(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){ce._dragging===this&&this.finishDrag();return}if(!(ce._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ce._dragging=this,this._preventOutline&&sn(this._element),xe(),ft(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,n=un(this._element);this._startPoint=new q(e.clientX,e.clientY),this._startPos=Q(this._element),this._parentScale=Ui(n);var i=t.type==="mousedown";G(document,i?"mousemove":"touchmove",this._onMove,this),G(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,n=new q(e.clientX,e.clientY)._subtract(this._startPoint);!n.x&&!n.y||Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Et(t),this._moved||(this.fire("dragstart"),this._moved=!0,d(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),d(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),H(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){b(document.body,"leaflet-dragging"),this._lastTarget&&(b(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dt(document,"mousemove touchmove",this._onMove,this),dt(document,"mouseup touchend touchcancel",this._onUp,this),an(),ct();var e=this._moved&&this._moving;this._moving=!1,ce._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Kr(t,e,n){var i,o=[1,4,2,8],u,_,g,w,E,R,j,X;for(u=0,R=t.length;u<R;u++)t[u]._code=Se(t[u],e);for(g=0;g<4;g++){for(j=o[g],i=[],u=0,R=t.length,_=R-1;u<R;_=u++)w=t[u],E=t[_],w._code&j?E._code&j||(X=qn(E,w,j,e,n),X._code=Se(X,e),i.push(X)):(E._code&j&&(X=qn(E,w,j,e,n),X._code=Se(X,e),i.push(X)),i.push(w));t=i}return t}function Vr(t,e){var n,i,o,u,_,g,w,E,R;if(!t||t.length===0)throw new Error("latlngs not passed");Dt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var j=J([0,0]),X=gt(t),Mt=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());Mt<1700&&(j=Qi(t));var Lt=t.length,Zt=[];for(n=0;n<Lt;n++){var It=J(t[n]);Zt.push(e.project(J([It.lat-j.lat,It.lng-j.lng])))}for(g=w=E=0,n=0,i=Lt-1;n<Lt;i=n++)o=Zt[n],u=Zt[i],_=o.y*u.x-u.y*o.x,w+=(o.x+u.x)*_,E+=(o.y+u.y)*_,g+=_*3;g===0?R=Zt[0]:R=[w/g,E/g];var He=e.unproject(K(R));return J([He.lat+j.lat,He.lng+j.lng])}function Qi(t){for(var e=0,n=0,i=0,o=0;o<t.length;o++){var u=J(t[o]);e+=u.lat,n+=u.lng,i++}return J([e/i,n/i])}var Ra={__proto__:null,clipPolygon:Kr,polygonCenter:Vr,centroid:Qi};function qr(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Na(t,n),t=Za(t,n),t}function Gr(t,e,n){return Math.sqrt(cn(t,e,n,!0))}function Da(t,e,n){return cn(t,e,n)}function Za(t,e){var n=t.length,i=typeof Uint8Array<"u"?Uint8Array:Array,o=new i(n);o[0]=o[n-1]=1,Ji(t,o,e,0,n-1);var u,_=[];for(u=0;u<n;u++)o[u]&&_.push(t[u]);return _}function Ji(t,e,n,i,o){var u=0,_,g,w;for(g=i+1;g<=o-1;g++)w=cn(t[g],t[i],t[o],!0),w>u&&(_=g,u=w);u>n&&(e[_]=1,Ji(t,e,n,i,_),Ji(t,e,n,_,o))}function Na(t,e){for(var n=[t[0]],i=1,o=0,u=t.length;i<u;i++)Fa(t[i],t[o])>e&&(n.push(t[i]),o=i);return o<u-1&&n.push(t[u-1]),n}var Yr;function $r(t,e,n,i,o){var u=i?Yr:Se(t,n),_=Se(e,n),g,w,E;for(Yr=_;;){if(!(u|_))return[t,e];if(u&_)return!1;g=u||_,w=qn(t,e,g,n,o),E=Se(w,n),g===u?(t=w,u=E):(e=w,_=E)}}function qn(t,e,n,i,o){var u=e.x-t.x,_=e.y-t.y,g=i.min,w=i.max,E,R;return n&8?(E=t.x+u*(w.y-t.y)/_,R=w.y):n&4?(E=t.x+u*(g.y-t.y)/_,R=g.y):n&2?(E=w.x,R=t.y+_*(w.x-t.x)/u):n&1&&(E=g.x,R=t.y+_*(g.x-t.x)/u),new q(E,R,o)}function Se(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function Fa(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function cn(t,e,n,i){var o=e.x,u=e.y,_=n.x-o,g=n.y-u,w=_*_+g*g,E;return w>0&&(E=((t.x-o)*_+(t.y-u)*g)/w,E>1?(o=n.x,u=n.y):E>0&&(o+=_*E,u+=g*E)),_=t.x-o,g=t.y-u,i?_*_+g*g:new q(o,u)}function Dt(t){return!_t(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Xr(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dt(t)}function Qr(t,e){var n,i,o,u,_,g,w,E;if(!t||t.length===0)throw new Error("latlngs not passed");Dt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var R=J([0,0]),j=gt(t),X=j.getNorthWest().distanceTo(j.getSouthWest())*j.getNorthEast().distanceTo(j.getNorthWest());X<1700&&(R=Qi(t));var Mt=t.length,Lt=[];for(n=0;n<Mt;n++){var Zt=J(t[n]);Lt.push(e.project(J([Zt.lat-R.lat,Zt.lng-R.lng])))}for(n=0,i=0;n<Mt-1;n++)i+=Lt[n].distanceTo(Lt[n+1])/2;if(i===0)E=Lt[0];else for(n=0,u=0;n<Mt-1;n++)if(_=Lt[n],g=Lt[n+1],o=_.distanceTo(g),u+=o,u>i){w=(u-i)/o,E=[g.x-w*(g.x-_.x),g.y-w*(g.y-_.y)];break}var It=e.unproject(K(E));return J([It.lat+R.lat,It.lng+R.lng])}var Ha={__proto__:null,simplify:qr,pointToSegmentDistance:Gr,closestPointOnSegment:Da,clipSegment:$r,_getEdgeIntersection:qn,_getBitCode:Se,_sqClosestPointOnSegment:cn,isFlat:Dt,_flat:Xr,polylineCenter:Qr},tr={project:function(t){return new q(t.lng,t.lat)},unproject:function(t){return new st(t.y,t.x)},bounds:new rt([-180,-90],[180,90])},er={R:6378137,R_MINOR:6356752314245179e-9,bounds:new rt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,u=Math.sqrt(1-o*o),_=u*Math.sin(i),g=Math.tan(Math.PI/4-i/2)/Math.pow((1-_)/(1+_),u/2);return i=-n*Math.log(Math.max(g,1e-10)),new q(t.lng*e*n,i)},unproject:function(t){for(var e=180/Math.PI,n=this.R,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),u=Math.exp(-t.y/n),_=Math.PI/2-2*Math.atan(u),g=0,w=.1,E;g<15&&Math.abs(w)>1e-7;g++)E=o*Math.sin(_),E=Math.pow((1-E)/(1+E),o/2),w=Math.PI/2-2*Math.atan(u*E)-_,_+=w;return new st(_*e,t.x*e/n)}},Wa={__proto__:null,LonLat:tr,Mercator:er,SphericalMercator:Ve},ja=f({},Vt,{code:"EPSG:3395",projection:er,transformation:function(){var t=.5/(Math.PI*er.R);return pe(t,.5,-t,.5)}()}),Jr=f({},Vt,{code:"EPSG:4326",projection:tr,transformation:pe(1/180,1,-1/180,.5)}),Ua=f({},Nt,{projection:tr,transformation:pe(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});Nt.Earth=Vt,Nt.EPSG3395=ja,Nt.EPSG3857=Ge,Nt.EPSG900913=Si,Nt.EPSG4326=Jr,Nt.Simple=Ua;var Ut=Rt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[T(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[T(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});it.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=T(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=T(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return T(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?_t(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[T(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=T(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=o.minZoom===void 0?t:Math.min(t,o.minZoom),e=o.maxZoom===void 0?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Re=Ut.extend({initialize:function(t,e){W(this,e),this._layers={};var n,i;if(t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),n,i;for(n in this._layers)i=this._layers[n],i[t]&&i[t].apply(i,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return T(t)}}),Ka=function(t,e){return new Re(t,e)},te=Re.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Re.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Re.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new At;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Va=function(t,e){return new te(t,e)},De=xt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){W(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(i,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];typeof i=="number"&&(i=[i,i]);var o=K(i),u=K(e==="shadow"&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),u&&(t.style.marginLeft=-u.x+"px",t.style.marginTop=-u.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return N.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function qa(t){return new De(t)}var fn=De.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof fn.imagePath!="string"&&(fn.imagePath=this._detectIconPath()),(this.options.imagePath||fn.imagePath)+De.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(n,i,o){var u=i.exec(n);return u&&u[o]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=nt("div","leaflet-default-icon-path",document.body),e=Pe(t,"background-image")||Pe(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),to=Gt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ce(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),d(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&b(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,u=Q(e._icon),_=n.getPixelBounds(),g=n.getPixelOrigin(),w=St(_.min._subtract(g).add(o),_.max._subtract(g).subtract(o));if(!w.contains(u)){var E=K((Math.max(w.max.x,u.x)-w.max.x)/(_.max.x-w.max.x)-(Math.min(w.min.x,u.x)-w.min.x)/(_.min.x-w.min.x),(Math.max(w.max.y,u.y)-w.max.y)/(_.max.y-w.max.y)-(Math.min(w.min.y,u.y)-w.min.y)/(_.min.y-w.min.y)).multiplyBy(i);n.panBy(E,{animate:!1}),this._draggable._newPos._add(E),this._draggable._startPos._add(E),H(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=at(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(lt(this._panRequest),this._panRequest=at(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=Q(e._icon),o=e._map.layerPointToLatLng(i);n&&H(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){lt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Gn=Ut.extend({options:{icon:new fn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){W(this,e),this._latlng=J(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=J(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),n.tagName==="IMG"&&(n.alt=t.alt||"")),d(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&G(n,"focus",this._panOnFocus,this);var o=t.icon.createShadow(this._shadow),u=!1;o!==this._shadow&&(this._removeShadow(),u=!0),o&&(d(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&u&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dt(this._icon,"focus",this._panOnFocus,this),l(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&l(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&H(this._icon,t),this._shadow&&H(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(d(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),to)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new to(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&O(this._icon,t),this._shadow&&O(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?K(e.iconSize):K(0,0),i=e.iconAnchor?K(e.iconAnchor):K(0,0);t.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ga(t,e){return new Gn(t,e)}var fe=Ut.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return W(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Yn=fe.extend({options:{fill:!0,radius:10},initialize:function(t,e){W(this,e),this._latlng=J(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=J(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return fe.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new rt(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ya(t,e){return new Yn(t,e)}var nr=Yn.extend({initialize:function(t,e,n){if(typeof e=="number"&&(e=f({},n,{radius:e})),W(this,e),this._latlng=J(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new At(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:fe.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===Vt.distance){var o=Math.PI/180,u=this._mRadius/Vt.R/o,_=n.project([e+u,t]),g=n.project([e-u,t]),w=_.add(g).divideBy(2),E=n.unproject(w).lat,R=Math.acos((Math.cos(u*o)-Math.sin(e*o)*Math.sin(E*o))/(Math.cos(e*o)*Math.cos(E*o)))/o;(isNaN(R)||R===0)&&(R=u/Math.cos(Math.PI/180*e)),this._point=w.subtract(n.getPixelOrigin()),this._radius=isNaN(R)?0:w.x-n.project([E,t-R]).x,this._radiusY=w.y-_.y}else{var j=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(j).x}this._updateBounds()}});function $a(t,e,n){return new nr(t,e,n)}var ee=fe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){W(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,n=null,i=cn,o,u,_=0,g=this._parts.length;_<g;_++)for(var w=this._parts[_],E=1,R=w.length;E<R;E++){o=w[E-1],u=w[E];var j=i(t,o,u,!0);j<e&&(e=j,n=i(t,o,u))}return n&&(n.distance=Math.sqrt(e)),n},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=J(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new At,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Dt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Dt(t),i=0,o=t.length;i<o;i++)n?(e[i]=J(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new rt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new q(t,t);this._rawPxBounds&&(this._pxBounds=new rt([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var i=t[0]instanceof st,o=t.length,u,_;if(i){for(_=[],u=0;u<o;u++)_[u]=this._map.latLngToLayerPoint(t[u]),n.extend(_[u]);e.push(_)}else for(u=0;u<o;u++)this._projectLatlngs(t[u],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,n,i,o,u,_,g,w;for(n=0,o=0,u=this._rings.length;n<u;n++)for(w=this._rings[n],i=0,_=w.length;i<_-1;i++)g=$r(w[i],w[i+1],t,i,!0),g&&(e[o]=e[o]||[],e[o].push(g[0]),(g[1]!==w[i+1]||i===_-2)&&(e[o].push(g[1]),o++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=qr(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,u,_,g,w=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,u=this._parts.length;n<u;n++)for(g=this._parts[n],i=0,_=g.length,o=_-1;i<_;o=i++)if(!(!e&&i===0)&&Gr(t,g[o],g[i])<=w)return!0;return!1}});function Xa(t,e){return new ee(t,e)}ee._flat=Xr;var Ze=ee.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=ee.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof st&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){ee.prototype._setLatLngs.call(this,t),Dt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new q(e,e);if(t=new rt(t.min.subtract(n),t.max.add(n)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var i=0,o=this._rings.length,u;i<o;i++)u=Kr(this._rings[i],t,!0),u.length&&this._parts.push(u)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,n,i,o,u,_,g,w,E;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(u=0,w=this._parts.length;u<w;u++)for(n=this._parts[u],_=0,E=n.length,g=E-1;_<E;g=_++)i=n[_],o=n[g],i.y>t.y!=o.y>t.y&&t.x<(o.x-i.x)*(t.y-i.y)/(o.y-i.y)+i.x&&(e=!e);return e||ee.prototype._containsPoint.call(this,t,!0)}});function Qa(t,e){return new Ze(t,e)}var ne=te.extend({initialize:function(t,e){W(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=_t(t)?t:t.features,n,i,o;if(e){for(n=0,i=e.length;n<i;n++)o=e[n],(o.geometries||o.geometry||o.features||o.coordinates)&&this.addData(o);return this}var u=this.options;if(u.filter&&!u.filter(t))return this;var _=$n(t,u);return _?(_.feature=Jn(t),_.defaultOptions=_.options,this.resetStyle(_),u.onEachFeature&&u.onEachFeature(t,_),this.addLayer(_)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=f({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function $n(t,e){var n=t.type==="Feature"?t.geometry:t,i=n?n.coordinates:null,o=[],u=e&&e.pointToLayer,_=e&&e.coordsToLatLng||ir,g,w,E,R;if(!i&&!n)return null;switch(n.type){case"Point":return g=_(i),eo(u,t,g,e);case"MultiPoint":for(E=0,R=i.length;E<R;E++)g=_(i[E]),o.push(eo(u,t,g,e));return new te(o);case"LineString":case"MultiLineString":return w=Xn(i,n.type==="LineString"?0:1,_),new ee(w,e);case"Polygon":case"MultiPolygon":return w=Xn(i,n.type==="Polygon"?1:2,_),new Ze(w,e);case"GeometryCollection":for(E=0,R=n.geometries.length;E<R;E++){var j=$n({geometry:n.geometries[E],type:"Feature",properties:t.properties},e);j&&o.push(j)}return new te(o);case"FeatureCollection":for(E=0,R=n.features.length;E<R;E++){var X=$n(n.features[E],e);X&&o.push(X)}return new te(o);default:throw new Error("Invalid GeoJSON object.")}}function eo(t,e,n,i){return t?t(e,n):new Gn(n,i&&i.markersInheritOptions&&i)}function ir(t){return new st(t[1],t[0],t[2])}function Xn(t,e,n){for(var i=[],o=0,u=t.length,_;o<u;o++)_=e?Xn(t[o],e-1,n):(n||ir)(t[o]),i.push(_);return i}function rr(t,e){return t=J(t),t.alt!==void 0?[B(t.lng,e),B(t.lat,e),B(t.alt,e)]:[B(t.lng,e),B(t.lat,e)]}function Qn(t,e,n,i){for(var o=[],u=0,_=t.length;u<_;u++)o.push(e?Qn(t[u],Dt(t[u])?0:e-1,n,i):rr(t[u],i));return!e&&n&&o.length>0&&o.push(o[0].slice()),o}function Ne(t,e){return t.feature?f({},t.feature,{geometry:e}):Jn(e)}function Jn(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var or={toGeoJSON:function(t){return Ne(this,{type:"Point",coordinates:rr(this.getLatLng(),t)})}};Gn.include(or),nr.include(or),Yn.include(or),ee.include({toGeoJSON:function(t){var e=!Dt(this._latlngs),n=Qn(this._latlngs,e?1:0,!1,t);return Ne(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),Ze.include({toGeoJSON:function(t){var e=!Dt(this._latlngs),n=e&&!Dt(this._latlngs[0]),i=Qn(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),Ne(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Re.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),Ne(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var n=e==="GeometryCollection",i=[];return this.eachLayer(function(o){if(o.toGeoJSON){var u=o.toGeoJSON(t);if(n)i.push(u.geometry);else{var _=Jn(u);_.type==="FeatureCollection"?i.push.apply(i,_.features):i.push(_)}}}),n?Ne(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});function no(t,e){return new ne(t,e)}var Ja=no,ti=Ut.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=gt(e),W(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(d(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){l(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&h(this._image),this},bringToBack:function(){return this._map&&m(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=gt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:nt("img");if(d(e,"leaflet-image-layer"),this._zoomAnimated&&d(e,"leaflet-zoom-animated"),this.options.className&&d(e,this.options.className),e.onselectstart=x,e.onmousemove=x,e.onload=y(this.fire,this,"load"),e.onerror=y(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;V(this._image,n,e)},_reset:function(){var t=this._image,e=new rt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();H(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){O(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),ts=function(t,e,n){return new ti(t,e,n)},io=ti.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:nt("video");if(d(e,"leaflet-image-layer"),this._zoomAnimated&&d(e,"leaflet-zoom-animated"),this.options.className&&d(e,this.options.className),e.onselectstart=x,e.onmousemove=x,e.onloadeddata=y(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=n.length>0?i:[e.src];return}_t(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var u=0;u<this._url.length;u++){var _=nt("source");_.src=this._url[u],e.appendChild(_)}}});function es(t,e,n){return new io(t,e,n)}var ro=ti.extend({_initImage:function(){var t=this._image=this._url;d(t,"leaflet-image-layer"),this._zoomAnimated&&d(t,"leaflet-zoom-animated"),this.options.className&&d(t,this.options.className),t.onselectstart=x,t.onmousemove=x}});function ns(t,e,n){return new ro(t,e,n)}var Yt=Ut.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof st||_t(t))?(this._latlng=J(t),W(this,e)):(W(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&O(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&O(this._container,1),this.bringToFront(),this.options.interactive&&(d(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(O(this._container,0),this._removeTimeout=setTimeout(y(l,void 0,this._container),200)):l(this._container),this.options.interactive&&(b(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=J(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&h(this._container),this},bringToBack:function(){return this._map&&m(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof te){e=null;var n=this._source._layers;for(var i in n)if(n[i]._map){e=n[i];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=K(this.options.offset),n=this._getAnchor();this._zoomAnimated?H(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}});it.include({_initOverlay:function(t,e,n,i){var o=e;return o instanceof t||(o=new t(i).setContent(e)),n&&o.setLatLng(n),o}}),Ut.include({_initOverlay:function(t,e,n,i){var o=n;return o instanceof t?(W(o,i),o._source=this):(o=e&&!i?e:new t(i,this),o.setContent(n)),o}});var ei=Yt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Yt.prototype.openOn.call(this,t)},onAdd:function(t){Yt.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof fe||this._source.on("preclick",Le))},onRemove:function(t){Yt.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof fe||this._source.off("preclick",Le))},getEvents:function(){var t=Yt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=nt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=nt("div",t+"-content-wrapper",e);if(this._contentNode=nt("div",t+"-content",n),ln(e),Gi(this._contentNode),G(e,"contextmenu",Le),this._tipContainer=nt("div",t+"-tip-container",e),this._tip=nt("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=nt("a",t+"-close-button",e);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',G(i,"click",function(o){Et(o),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,u="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",d(t,u)):b(t,u),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();H(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(Pe(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new q(this._containerLeft,-n-this._containerBottom);o._add(Q(this._container));var u=t.layerPointToContainerPoint(o),_=K(this.options.autoPanPadding),g=K(this.options.autoPanPaddingTopLeft||_),w=K(this.options.autoPanPaddingBottomRight||_),E=t.getSize(),R=0,j=0;u.x+i+w.x>E.x&&(R=u.x+i-E.x+w.x),u.x-R-g.x<0&&(R=u.x-g.x),u.y+n+w.y>E.y&&(j=u.y+n-E.y+w.y),u.y-j-g.y<0&&(j=u.y-g.y),(R||j)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([R,j]))}},_getAnchor:function(){return K(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),is=function(t,e){return new ei(t,e)};it.mergeOptions({closePopupOnClick:!0}),it.include({openPopup:function(t,e,n){return this._initOverlay(ei,t,e,n).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Ut.include({bindPopup:function(t,e){return this._popup=this._initOverlay(ei,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof te||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Te(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof fe)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var ni=Yt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Yt.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Yt.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Yt.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=nt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+T(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,i=this._map,o=this._container,u=i.latLngToContainerPoint(i.getCenter()),_=i.layerPointToContainerPoint(t),g=this.options.direction,w=o.offsetWidth,E=o.offsetHeight,R=K(this.options.offset),j=this._getAnchor();g==="top"?(e=w/2,n=E):g==="bottom"?(e=w/2,n=0):g==="center"?(e=w/2,n=E/2):g==="right"?(e=0,n=E/2):g==="left"?(e=w,n=E/2):_.x<u.x?(g="right",e=0,n=E/2):(g="left",e=w+(R.x+j.x)*2,n=E/2),t=t.subtract(K(e,n,!0)).add(R).add(j),b(o,"leaflet-tooltip-right"),b(o,"leaflet-tooltip-left"),b(o,"leaflet-tooltip-top"),b(o,"leaflet-tooltip-bottom"),d(o,"leaflet-tooltip-"+g),H(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&O(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return K(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),rs=function(t,e){return new ni(t,e)};it.include({openTooltip:function(t,e,n){return this._initOverlay(ni,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Ut.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ni,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof te||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(G(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),G(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,n,i;this._tooltip.options.sticky&&t.originalEvent&&(n=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(n),e=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(e)}});var oo=De.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(p(e),e.appendChild(n.html)):e.innerHTML=n.html!==!1?n.html:"",n.bgPos){var i=K(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function os(t){return new oo(t)}De.Default=fn;var dn=Ut.extend({options:{tileSize:256,opacity:1,updateWhenIdle:N.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){W(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),l(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(h(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(m(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=M(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof q?t:new q(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,n=-t(-1/0,1/0),i=0,o=e.length,u;i<o;i++)u=e[i].style.zIndex,e[i]!==this._container&&u&&(n=t(n,+u));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!N.ielt9){O(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(!(!o.current||!o.loaded)){var u=Math.min(1,(t-o.loaded)/200);O(o.el,u),u<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(lt(this._fadeFrame),this._fadeFrame=at(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=nt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(l(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||(i=this._levels[t]={},i.el=nt("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),x(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)l(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),u=Math.floor(e/2),_=n-1,g=new q(+o,+u);g.z=+_;var w=this._tileCoordsToKey(g),E=this._tiles[w];return E&&E.active?(E.retain=!0,!0):(E&&E.loaded&&(E.retain=!0),_>i?this._retainParent(o,u,_,i):!1)},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var u=2*e;u<2*e+2;u++){var _=new q(o,u);_.z=n+1;var g=this._tileCoordsToKey(_),w=this._tiles[g];if(w&&w.active){w.retain=!0;continue}else w&&w.loaded&&(w.retain=!0);n+1<i&&this._retainChildren(o,u,n+1,i)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=Math.round(e);this.options.maxZoom!==void 0&&o>this.options.maxZoom||this.options.minZoom!==void 0&&o<this.options.minZoom?o=void 0:o=this._clampZoom(o);var u=this.options.updateWhenZooming&&o!==this._tileZoom;(!i||u)&&(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),o!==void 0&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();N.any3d?V(t.el,o,i):H(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),u=e.getSize().divideBy(i*2);return new rt(o.subtract(u),o.add(u))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),u=o.getCenter(),_=[],g=this.options.keepBuffer,w=new rt(o.getBottomLeft().subtract([g,-g]),o.getTopRight().add([g,-g]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var E in this._tiles){var R=this._tiles[E].coords;(R.z!==this._tileZoom||!w.contains(new q(R.x,R.y)))&&(this._tiles[E].current=!1)}if(Math.abs(n-this._tileZoom)>1){this._setView(t,n);return}for(var j=o.min.y;j<=o.max.y;j++)for(var X=o.min.x;X<=o.max.x;X++){var Mt=new q(X,j);if(Mt.z=this._tileZoom,!!this._isValidTile(Mt)){var Lt=this._tiles[this._tileCoordsToKey(Mt)];Lt?Lt.current=!0:_.push(Mt)}}if(_.sort(function(It,He){return It.distanceTo(u)-He.distanceTo(u)}),_.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zt=document.createDocumentFragment();for(X=0;X<_.length;X++)this._addTile(_[X],Zt);this._level.el.appendChild(Zt)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return gt(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n),u=e.unproject(i,t.z),_=e.unproject(o,t.z);return[u,_]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new At(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new q(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(l(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){d(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=x,t.onmousemove=x,N.ielt9&&this.options.opacity<1&&O(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),y(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&at(y(this._tileReady,this,t,null,o)),H(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);n=this._tiles[i],n&&(n.loaded=+new Date,this._map._fadeAnimated?(O(n.el,0),lt(this._fadeFrame),this._fadeFrame=at(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(d(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),N.ielt9||!this._map._fadeAnimated?at(this._pruneTiles,this):setTimeout(y(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new q(this._wrapX?z(t.x,this._wrapX):t.x,this._wrapY?z(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new rt(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function as(t){return new dn(t)}var Fe=dn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=W(this,e),e.detectRetina&&N.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return G(n,"load",y(this._tileOnLoad,this,e,n)),G(n,"error",y(this._tileOnError,this,e,n)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:N.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return ot(this._url,f(e,this.options))},_tileOnLoad:function(t,e){N.ielt9?setTimeout(y(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;return n&&(t=e-t),t+i},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=x,e.onerror=x,!e.complete)){e.src=k;var n=this._tiles[t].coords;l(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",k),dn.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(!(!this._map||n&&n.getAttribute("src")===k))return dn.prototype._tileReady.call(this,t,e,n)}});function ao(t,e){return new Fe(t,e)}var so=Fe.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=f({},this.defaultWmsParams);for(var i in e)i in this.options||(n[i]=e[i]);e=W(this,e);var o=e.detectRetina&&N.retina?2:1,u=this.getTileSize();n.width=u.x*o,n.height=u.y*o,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Fe.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=St(n.project(e[0]),n.project(e[1])),o=i.min,u=i.max,_=(this._wmsVersion>=1.3&&this._crs===Jr?[o.y,o.x,u.y,u.x]:[o.x,o.y,u.x,u.y]).join(","),g=Fe.prototype.getTileUrl.call(this,t);return g+tt(this.wmsParams,g,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+_},setParams:function(t,e){return f(this.wmsParams,t),e||this.redraw(),this}});function ss(t,e){return new so(t,e)}Fe.WMS=so,ao.wms=ss;var ie=Ut.extend({options:{padding:.1},initialize:function(t){W(this,t),T(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),d(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),u=i.multiplyBy(-n).add(o).subtract(this._map._getNewPixelOrigin(t,e));N.any3d?V(this._container,u,n):H(this._container,u)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new rt(n,n.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),uo=ie.extend({options:{tolerance:0},getEvents:function(){var t=ie.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ie.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");G(t,"mousemove",this._onMouseMove,this),G(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),G(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){lt(this._redrawRequest),delete this._ctx,l(this._container),dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ie.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=N.retina?2:1;H(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",N.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ie.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[T(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[T(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),n=[],i,o;for(o=0;o<e.length;o++){if(i=Number(e[o]),isNaN(i))return;n.push(i)}t.options._dashArray=n}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||at(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new rt,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,u,_=t._parts,g=_.length,w=this._ctx;if(g){for(w.beginPath(),n=0;n<g;n++){for(i=0,o=_[n].length;i<o;i++)u=_[n][i],w[i?"lineTo":"moveTo"](u.x,u.y);e&&w.closePath()}this._fillStroke(w,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||i)/i;o!==1&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,Math.PI*2,!1),o!==1&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&n.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),n,i,o=this._drawFirst;o;o=o.next)n=o.layer,n.options.interactive&&n._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(n))&&(i=n);this._fireEvent(i?[i]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(b(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,o=this._drawFirst;o;o=o.next)n=o.layer,n.options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(d(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(y(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;if(n)n.prev=i;else return;i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;if(i)i.next=n;else return;n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function lo(t){return N.canvas?new uo(t):null}var _n=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),us={_initContainer:function(){this._container=nt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ie.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=_n("shape");d(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=_n("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[T(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;l(e),t.removeInteractiveTarget(e),delete this._layers[T(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=_n("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=_t(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=_n("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){h(t._container)},_bringToBack:function(t){m(t._container)}},ii=N.vml?_n:Ft,pn=ie.extend({_initContainer:function(){this._container=ii("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ii("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){l(this._container),dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ie.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),H(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=ii("path");t.options.className&&d(e,t.options.className),t.options.interactive&&d(e,"leaflet-interactive"),this._updateStyle(t),this._layers[T(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){l(t._path),t.removeInteractiveTarget(t._path),delete this._layers[T(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,En(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i=Math.max(Math.round(t._radiusY),1)||n,o="a"+n+","+i+" 0 1,0 ",u=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+o+n*2+",0 "+o+-n*2+",0 ";this._setPath(t,u)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){h(t._path)},_bringToBack:function(t){m(t._path)}});N.vml&&pn.include(us);function ho(t){return N.svg||N.vml?new pn(t):null}it.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&lo(t)||ho(t)}});var co=Ze.extend({initialize:function(t,e){Ze.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=gt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function ls(t,e){return new co(t,e)}pn.create=ii,pn.pointsToPath=En,ne.geometryToLayer=$n,ne.coordsToLatLng=ir,ne.coordsToLatLngs=Xn,ne.latLngToCoords=rr,ne.latLngsToCoords=Qn,ne.getFeature=Ne,ne.asFeature=Jn,it.mergeOptions({boxZoom:!0});var fo=Gt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){G(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){l(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ft(),xe(),this._startPoint=this._map.mouseEventToContainerPoint(t),G(document,{contextmenu:Te,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=nt("div","leaflet-zoom-box",this._container),d(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new rt(this._point,this._startPoint),n=e.getSize();H(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(l(this._box),b(this._container,"leaflet-crosshair")),ct(),an(),dt(document,{contextmenu:Te,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(y(this._resetState,this),0);var e=new At(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});it.addInitHook("addHandler","boxZoom",fo),it.mergeOptions({doubleClickZoom:!0});var _o=Gt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;e.options.doubleClickZoom==="center"?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});it.addInitHook("addHandler","doubleClickZoom",_o),it.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var po=Gt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ce(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}d(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){b(this._map._container,"leaflet-grab"),b(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=gt(this._map.options.maxBounds);this._offsetLimit=St(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,u=(i+e+n)%t-e-n,_=Math.abs(o+n)<Math.abs(u+n)?o:u;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=_},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),u=(this._lastTime-this._times[0])/1e3,_=n.easeLinearity,g=o.multiplyBy(_/u),w=g.distanceTo([0,0]),E=Math.min(n.inertiaMaxSpeed,w),R=g.multiplyBy(E/w),j=E/(n.inertiaDeceleration*_),X=R.multiplyBy(-j/2).round();!X.x&&!X.y?e.fire("moveend"):(X=e._limitOffset(X,e.options.maxBounds),at(function(){e.panBy(X,{duration:j,easeLinearity:_,noMoveStart:!0,animate:!0})}))}}});it.addInitHook("addHandler","dragging",po),it.mergeOptions({keyboard:!0,keyboardPanDelta:80});var mo=Gt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),G(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},n=this.keyCodes,i,o;for(i=0,o=n.left.length;i<o;i++)e[n.left[i]]=[-1*t,0];for(i=0,o=n.right.length;i<o;i++)e[n.right[i]]=[t,0];for(i=0,o=n.down.length;i<o;i++)e[n.down[i]]=[0,t];for(i=0,o=n.up.length;i<o;i++)e[n.up[i]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},n=this.keyCodes,i,o;for(i=0,o=n.zoomIn.length;i<o;i++)e[n.zoomIn[i]]=t;for(i=0,o=n.zoomOut.length;i<o;i++)e[n.zoomOut[i]]=-t},_addHooks:function(){G(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,n=this._map,i;if(e in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress)if(i=this._panKeys[e],t.shiftKey&&(i=K(i).multiplyBy(3)),n.options.maxBounds&&(i=n._limitOffset(K(i),n.options.maxBounds)),n.options.worldCopyJump){var o=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(i)));n.panTo(o)}else n.panBy(i)}else if(e in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&n._popup&&n._popup.options.closeOnEscapeKey)n.closePopup();else return;Te(t)}}});it.addInitHook("addHandler","keyboard",mo),it.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var vo=Gt.extend({addHooks:function(){G(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Fr(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(y(this._performZoom,this),i),Te(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(this._map.options.wheelPxPerZoomLevel*4),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,u=n?Math.ceil(o/n)*n:o,_=t._limitZoom(e+(this._delta>0?u:-u))-e;this._delta=0,this._startTime=null,_&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+_):t.setZoomAround(this._lastMousePos,e+_))}});it.addInitHook("addHandler","scrollWheelZoom",vo);var hs=600;it.mergeOptions({tapHold:N.touchNative&&N.safari&&N.mobile,tapTolerance:15});var go=Gt.extend({addHooks:function(){G(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new q(e.clientX,e.clientY),this._holdTimeout=setTimeout(y(function(){this._cancel(),this._isTapValid()&&(G(document,"touchend",Et),G(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),hs),G(document,"touchend touchcancel contextmenu",this._cancel,this),G(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){dt(document,"touchend",Et),dt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),dt(document,"touchend touchcancel contextmenu",this._cancel,this),dt(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new q(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});it.addInitHook("addHandler","tapHold",go),it.mergeOptions({touchZoom:N.touch,bounceAtZoomLimits:!0});var yo=Gt.extend({addHooks:function(){d(this._map._container,"leaflet-touch-zoom"),G(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){b(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),G(document,"touchmove",this._onTouchMove,this),G(document,"touchend touchcancel",this._onTouchEnd,this),Et(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,o===1)return}else{var u=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(o===1&&u.x===0&&u.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(u),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),lt(this._animRequest);var _=y(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=at(_,this,!0),Et(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,lt(this._animRequest),dt(document,"touchmove",this._onTouchMove,this),dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});it.addInitHook("addHandler","touchZoom",yo),it.BoxZoom=fo,it.DoubleClickZoom=_o,it.Drag=po,it.Keyboard=mo,it.ScrollWheelZoom=vo,it.TapHold=go,it.TouchZoom=yo,s.Bounds=rt,s.Browser=N,s.CRS=Nt,s.Canvas=uo,s.Circle=nr,s.CircleMarker=Yn,s.Class=xt,s.Control=jt,s.DivIcon=oo,s.DivOverlay=Yt,s.DomEvent=Aa,s.DomUtil=Sa,s.Draggable=ce,s.Evented=Rt,s.FeatureGroup=te,s.GeoJSON=ne,s.GridLayer=dn,s.Handler=Gt,s.Icon=De,s.ImageOverlay=ti,s.LatLng=st,s.LatLngBounds=At,s.Layer=Ut,s.LayerGroup=Re,s.LineUtil=Ha,s.Map=it,s.Marker=Gn,s.Mixin=za,s.Path=fe,s.Point=q,s.PolyUtil=Ra,s.Polygon=Ze,s.Polyline=ee,s.Popup=ei,s.PosAnimation=Hr,s.Projection=Wa,s.Rectangle=co,s.Renderer=ie,s.SVG=pn,s.SVGOverlay=ro,s.TileLayer=Fe,s.Tooltip=ni,s.Transformation=qe,s.Util=Ct,s.VideoOverlay=io,s.bind=y,s.bounds=St,s.canvas=lo,s.circle=$a,s.circleMarker=Ya,s.control=hn,s.divIcon=os,s.extend=f,s.featureGroup=Va,s.geoJSON=no,s.geoJson=Ja,s.gridLayer=as,s.icon=qa,s.imageOverlay=ts,s.latLng=J,s.latLngBounds=gt,s.layerGroup=Ka,s.map=Oa,s.marker=Ga,s.point=K,s.polygon=Qa,s.polyline=Xa,s.popup=is,s.rectangle=ls,s.setOptions=W,s.stamp=T,s.svg=ho,s.svgOverlay=ns,s.tileLayer=ao,s.tooltip=rs,s.transformation=pe,s.version=c,s.videoOverlay=es;var cs=window.L;s.noConflict=function(){return window.L=cs,this},window.L=s})}(ci,ci.exports)),ci.exports}var Pl=bl();const Gl=ta(Pl);function Kt(a){for(var r=arguments.length,s=Array(r>1?r-1:0),c=1;c<r;c++)s[c-1]=arguments[c];throw Error("[Immer] minified error nr: "+a+(s.length?" "+s.map(function(f){return"'"+f+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function je(a){return!!a&&!!a[Bt]}function Oe(a){return!!a&&(function(r){if(!r||typeof r!="object")return!1;var s=Object.getPrototypeOf(r);if(s===null)return!0;var c=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return typeof c=="function"&&Function.toString.call(c)===Ml}(a)||Array.isArray(a)||!!a[Xo]||!!a.constructor[Xo]||Mr(a)||Ir(a))}function mn(a,r,s){s===void 0&&(s=!1),Ke(a)===0?(s?Object.keys:Rr)(a).forEach(function(c){s&&typeof c=="symbol"||r(c,a[c],a)}):a.forEach(function(c,f){return r(f,c,a)})}function Ke(a){var r=a[Bt];return r?r.i>3?r.i-4:r.i:Array.isArray(a)?1:Mr(a)?2:Ir(a)?3:0}function gr(a,r){return Ke(a)===2?a.has(r):Object.prototype.hasOwnProperty.call(a,r)}function xl(a,r){return Ke(a)===2?a.get(r):a[r]}function wa(a,r,s){var c=Ke(a);c===2?a.set(r,s):c===3?(a.delete(r),a.add(s)):a[r]=s}function Ll(a,r){return a===r?a!==0||1/a==1/r:a!=a&&r!=r}function Mr(a){return Al&&a instanceof Map}function Ir(a){return Ol&&a instanceof Set}function Ae(a){return a.o||a.t}function Cr(a){if(Array.isArray(a))return Array.prototype.slice.call(a);var r=Il(a);delete r[Bt];for(var s=Rr(r),c=0;c<s.length;c++){var f=s[c],S=r[f];S.writable===!1&&(S.writable=!0,S.configurable=!0),(S.get||S.set)&&(r[f]={configurable:!0,writable:!0,enumerable:S.enumerable,value:a[f]})}return Object.create(Object.getPrototypeOf(a),r)}function kr(a,r){return r===void 0&&(r=!1),Br(a)||je(a)||!Oe(a)||(Ke(a)>1&&(a.set=a.add=a.clear=a.delete=Tl),Object.freeze(a),r&&mn(a,function(s,c){return kr(c,!0)},!0)),a}function Tl(){Kt(2)}function Br(a){return a==null||typeof a!="object"||Object.isFrozen(a)}function oe(a){var r=Cl[a];return r||Kt(18,a),r}function Uo(){return vn}function fr(a,r){r&&(oe("Patches"),a.u=[],a.s=[],a.v=r)}function mi(a){yr(a),a.p.forEach(Sl),a.p=null}function yr(a){a===vn&&(vn=a.l)}function Ko(a){return vn={p:[],l:vn,h:a,m:!0,_:0}}function Sl(a){var r=a[Bt];r.i===0||r.i===1?r.j():r.g=!0}function dr(a,r){r._=r.p.length;var s=r.p[0],c=a!==void 0&&a!==s;return r.h.O||oe("ES5").S(r,a,c),c?(s[Bt].P&&(mi(r),Kt(4)),Oe(a)&&(a=vi(r,a),r.l||gi(r,a)),r.u&&oe("Patches").M(s[Bt],a,r.u,r.s)):a=vi(r,s,[]),mi(r),r.u&&r.v(r.u,r.s),a!==ba?a:void 0}function vi(a,r,s){if(Br(r))return r;var c=r[Bt];if(!c)return mn(r,function(S,y){return Vo(a,c,r,S,y,s)},!0),r;if(c.A!==a)return r;if(!c.P)return gi(a,c.t,!0),c.t;if(!c.I){c.I=!0,c.A._--;var f=c.i===4||c.i===5?c.o=Cr(c.k):c.o;mn(c.i===3?new Set(f):f,function(S,y){return Vo(a,c,f,S,y,s)}),gi(a,f,!1),s&&a.u&&oe("Patches").R(c,s,a.u,a.s)}return c.o}function Vo(a,r,s,c,f,S){if(je(f)){var y=vi(a,f,S&&r&&r.i!==3&&!gr(r.D,c)?S.concat(c):void 0);if(wa(s,c,y),!je(y))return;a.m=!1}if(Oe(f)&&!Br(f)){if(!a.h.F&&a._<1)return;vi(a,f),r&&r.A.l||gi(a,f)}}function gi(a,r,s){s===void 0&&(s=!1),a.h.F&&a.m&&kr(r,s)}function _r(a,r){var s=a[Bt];return(s?Ae(s):a)[r]}function qo(a,r){if(r in a)for(var s=Object.getPrototypeOf(a);s;){var c=Object.getOwnPropertyDescriptor(s,r);if(c)return c;s=Object.getPrototypeOf(s)}}function wr(a){a.P||(a.P=!0,a.l&&wr(a.l))}function pr(a){a.o||(a.o=Cr(a.t))}function br(a,r,s){var c=Mr(r)?oe("MapSet").N(r,s):Ir(r)?oe("MapSet").T(r,s):a.O?function(f,S){var y=Array.isArray(f),P={i:y?1:0,A:S?S.A:Uo(),P:!1,I:!1,D:{},l:S,t:f,k:null,o:null,j:null,C:!1},T=P,M=di;y&&(T=[P],M=_i);var z=Proxy.revocable(T,M),x=z.revoke,B=z.proxy;return P.k=B,P.j=x,B}(r,s):oe("ES5").J(r,s);return(s?s.A:Uo()).p.push(c),c}function El(a){return je(a)||Kt(22,a),function r(s){if(!Oe(s))return s;var c,f=s[Bt],S=Ke(s);if(f){if(!f.P&&(f.i<4||!oe("ES5").K(f)))return f.t;f.I=!0,c=Go(s,S),f.I=!1}else c=Go(s,S);return mn(c,function(y,P){f&&xl(f.t,y)===P||wa(c,y,r(P))}),S===3?new Set(c):c}(a)}function Go(a,r){switch(r){case 2:return new Map(a);case 3:return Array.from(a)}return Cr(a)}var Yo,vn,zr=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Al=typeof Map<"u",Ol=typeof Set<"u",$o=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",ba=zr?Symbol.for("immer-nothing"):((Yo={})["immer-nothing"]=!0,Yo),Xo=zr?Symbol.for("immer-draftable"):"__$immer_draftable",Bt=zr?Symbol.for("immer-state"):"__$immer_state",Ml=""+Object.prototype.constructor,Rr=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:Object.getOwnPropertyNames,Il=Object.getOwnPropertyDescriptors||function(a){var r={};return Rr(a).forEach(function(s){r[s]=Object.getOwnPropertyDescriptor(a,s)}),r},Cl={},di={get:function(a,r){if(r===Bt)return a;var s=Ae(a);if(!gr(s,r))return function(f,S,y){var P,T=qo(S,y);return T?"value"in T?T.value:(P=T.get)===null||P===void 0?void 0:P.call(f.k):void 0}(a,s,r);var c=s[r];return a.I||!Oe(c)?c:c===_r(a.t,r)?(pr(a),a.o[r]=br(a.A.h,c,a)):c},has:function(a,r){return r in Ae(a)},ownKeys:function(a){return Reflect.ownKeys(Ae(a))},set:function(a,r,s){var c=qo(Ae(a),r);if(c!=null&&c.set)return c.set.call(a.k,s),!0;if(!a.P){var f=_r(Ae(a),r),S=f==null?void 0:f[Bt];if(S&&S.t===s)return a.o[r]=s,a.D[r]=!1,!0;if(Ll(s,f)&&(s!==void 0||gr(a.t,r)))return!0;pr(a),wr(a)}return a.o[r]===s&&typeof s!="number"||(a.o[r]=s,a.D[r]=!0,!0)},deleteProperty:function(a,r){return _r(a.t,r)!==void 0||r in a.t?(a.D[r]=!1,pr(a),wr(a)):delete a.D[r],a.o&&delete a.o[r],!0},getOwnPropertyDescriptor:function(a,r){var s=Ae(a),c=Reflect.getOwnPropertyDescriptor(s,r);return c&&{writable:!0,configurable:a.i!==1||r!=="length",enumerable:c.enumerable,value:s[r]}},defineProperty:function(){Kt(11)},getPrototypeOf:function(a){return Object.getPrototypeOf(a.t)},setPrototypeOf:function(){Kt(12)}},_i={};mn(di,function(a,r){_i[a]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}}),_i.deleteProperty=function(a,r){return di.deleteProperty.call(this,a[0],r)},_i.set=function(a,r,s){return di.set.call(this,a[0],r,s,a[0])};var kl=function(){function a(s){var c=this;this.O=$o,this.F=!0,this.produce=function(f,S,y){if(typeof f=="function"&&typeof S!="function"){var P=S;S=f;var T=c;return function(U){var Y=this;U===void 0&&(U=P);for(var W=arguments.length,tt=Array(W>1?W-1:0),ut=1;ut<W;ut++)tt[ut-1]=arguments[ut];return T.produce(U,function(ot){var _t;return(_t=S).call.apply(_t,[Y,ot].concat(tt))})}}var M;if(typeof S!="function"&&Kt(6),y!==void 0&&typeof y!="function"&&Kt(7),Oe(f)){var z=Ko(c),x=br(c,f,void 0),B=!0;try{M=S(x),B=!1}finally{B?mi(z):yr(z)}return typeof Promise<"u"&&M instanceof Promise?M.then(function(U){return fr(z,y),dr(U,z)},function(U){throw mi(z),U}):(fr(z,y),dr(M,z))}if(!f||typeof f!="object")return(M=S(f))===ba?void 0:(M===void 0&&(M=f),c.F&&kr(M,!0),M);Kt(21,f)},this.produceWithPatches=function(f,S){return typeof f=="function"?function(T){for(var M=arguments.length,z=Array(M>1?M-1:0),x=1;x<M;x++)z[x-1]=arguments[x];return c.produceWithPatches(T,function(B){return f.apply(void 0,[B].concat(z))})}:[c.produce(f,S,function(T,M){y=T,P=M}),y,P];var y,P},typeof(s==null?void 0:s.useProxies)=="boolean"&&this.setUseProxies(s.useProxies),typeof(s==null?void 0:s.autoFreeze)=="boolean"&&this.setAutoFreeze(s.autoFreeze)}var r=a.prototype;return r.createDraft=function(s){Oe(s)||Kt(8),je(s)&&(s=El(s));var c=Ko(this),f=br(this,s,void 0);return f[Bt].C=!0,yr(c),f},r.finishDraft=function(s,c){var f=s&&s[Bt],S=f.A;return fr(S,c),dr(void 0,S)},r.setAutoFreeze=function(s){this.F=s},r.setUseProxies=function(s){s&&!$o&&Kt(20),this.O=s},r.applyPatches=function(s,c){var f;for(f=c.length-1;f>=0;f--){var S=c[f];if(S.path.length===0&&S.op==="replace"){s=S.value;break}}var y=oe("Patches").$;return je(s)?y(s,c):this.produce(s,function(P){return y(P,c.slice(f+1))})},a}(),zt=new kl,Bl=zt.produce;zt.produceWithPatches.bind(zt);zt.setAutoFreeze.bind(zt);zt.setUseProxies.bind(zt);zt.applyPatches.bind(zt);zt.createDraft.bind(zt);zt.finishDraft.bind(zt);function zl(a){var r=ae.useState(a),s=r[1];return[r[0],ae.useCallback(function(c){s(Bl(c))},[])]}var Pa={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(a,r){(function(s){a.exports=s()})(function(){return function s(c,f,S){function y(M,z){if(!f[M]){if(!c[M]){var x=typeof oi=="function"&&oi;if(!z&&x)return x(M,!0);if(P)return P(M,!0);var B=new Error("Cannot find module '"+M+"'");throw B.code="MODULE_NOT_FOUND",B}var U=f[M]={exports:{}};c[M][0].call(U.exports,function(Y){var W=c[M][1][Y];return y(W||Y)},U,U.exports,s,c,f,S)}return f[M].exports}for(var P=typeof oi=="function"&&oi,T=0;T<S.length;T++)y(S[T]);return y}({1:[function(s,c,f){(function(S){var y=S.MutationObserver||S.WebKitMutationObserver,P;if(y){var T=0,M=new y(Y),z=S.document.createTextNode("");M.observe(z,{characterData:!0}),P=function(){z.data=T=++T%2}}else if(!S.setImmediate&&typeof S.MessageChannel<"u"){var x=new S.MessageChannel;x.port1.onmessage=Y,P=function(){x.port2.postMessage(0)}}else"document"in S&&"onreadystatechange"in S.document.createElement("script")?P=function(){var tt=S.document.createElement("script");tt.onreadystatechange=function(){Y(),tt.onreadystatechange=null,tt.parentNode.removeChild(tt),tt=null},S.document.documentElement.appendChild(tt)}:P=function(){setTimeout(Y,0)};var B,U=[];function Y(){B=!0;for(var tt,ut,ot=U.length;ot;){for(ut=U,U=[],tt=-1;++tt<ot;)ut[tt]();ot=U.length}B=!1}c.exports=W;function W(tt){U.push(tt)===1&&!B&&P()}}).call(this,typeof re<"u"?re:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(s,c,f){var S=s(1);function y(){}var P={},T=["REJECTED"],M=["FULFILLED"],z=["PENDING"];c.exports=x;function x(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=z,this.queue=[],this.outcome=void 0,k!==y&&W(this,k)}x.prototype.catch=function(k){return this.then(null,k)},x.prototype.then=function(k,Z){if(typeof k!="function"&&this.state===M||typeof Z!="function"&&this.state===T)return this;var F=new this.constructor(y);if(this.state!==z){var $=this.state===M?k:Z;U(F,$,this.outcome)}else this.queue.push(new B(F,k,Z));return F};function B(k,Z,F){this.promise=k,typeof Z=="function"&&(this.onFulfilled=Z,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}B.prototype.callFulfilled=function(k){P.resolve(this.promise,k)},B.prototype.otherCallFulfilled=function(k){U(this.promise,this.onFulfilled,k)},B.prototype.callRejected=function(k){P.reject(this.promise,k)},B.prototype.otherCallRejected=function(k){U(this.promise,this.onRejected,k)};function U(k,Z,F){S(function(){var $;try{$=Z(F)}catch(ht){return P.reject(k,ht)}$===k?P.reject(k,new TypeError("Cannot resolve promise with itself")):P.resolve(k,$)})}P.resolve=function(k,Z){var F=tt(Y,Z);if(F.status==="error")return P.reject(k,F.value);var $=F.value;if($)W(k,$);else{k.state=M,k.outcome=Z;for(var ht=-1,bt=k.queue.length;++ht<bt;)k.queue[ht].callFulfilled(Z)}return k},P.reject=function(k,Z){k.state=T,k.outcome=Z;for(var F=-1,$=k.queue.length;++F<$;)k.queue[F].callRejected(Z);return k};function Y(k){var Z=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof Z=="function")return function(){Z.apply(k,arguments)}}function W(k,Z){var F=!1;function $(lt){F||(F=!0,P.reject(k,lt))}function ht(lt){F||(F=!0,P.resolve(k,lt))}function bt(){Z(ht,$)}var at=tt(bt);at.status==="error"&&$(at.value)}function tt(k,Z){var F={};try{F.value=k(Z),F.status="success"}catch($){F.status="error",F.value=$}return F}x.resolve=ut;function ut(k){return k instanceof this?k:P.resolve(new this(y),k)}x.reject=ot;function ot(k){var Z=new this(y);return P.reject(Z,k)}x.all=_t;function _t(k){var Z=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=k.length,$=!1;if(!F)return this.resolve([]);for(var ht=new Array(F),bt=0,at=-1,lt=new this(y);++at<F;)Ct(k[at],at);return lt;function Ct(xt,se){Z.resolve(xt).then(Tt,function(Rt){$||($=!0,P.reject(lt,Rt))});function Tt(Rt){ht[se]=Rt,++bt===F&&!$&&($=!0,P.resolve(lt,ht))}}}x.race=wt;function wt(k){var Z=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=k.length,$=!1;if(!F)return this.resolve([]);for(var ht=-1,bt=new this(y);++ht<F;)at(k[ht]);return bt;function at(lt){Z.resolve(lt).then(function(Ct){$||($=!0,P.resolve(bt,Ct))},function(Ct){$||($=!0,P.reject(bt,Ct))})}}},{1:1}],3:[function(s,c,f){(function(S){typeof S.Promise!="function"&&(S.Promise=s(2))}).call(this,typeof re<"u"?re:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(s,c,f){var S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};function y(l,p){if(!(l instanceof p))throw new TypeError("Cannot call a class as a function")}function P(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var T=P();function M(){try{if(!T||!T.open)return!1;var l=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),p=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!l||p)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function z(l,p){l=l||[],p=p||{};try{return new Blob(l,p)}catch(d){if(d.name!=="TypeError")throw d;for(var h=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,m=new h,v=0;v<l.length;v+=1)m.append(l[v]);return m.getBlob(p.type)}}typeof Promise>"u"&&s(3);var x=Promise;function B(l,p){p&&l.then(function(h){p(null,h)},function(h){p(h)})}function U(l,p,h){typeof p=="function"&&l.then(p),typeof h=="function"&&l.catch(h)}function Y(l){return typeof l!="string"&&(console.warn(l+" used as a key, but it is not a string."),l=String(l)),l}function W(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var tt="local-forage-detect-blob-support",ut=void 0,ot={},_t=Object.prototype.toString,wt="readonly",k="readwrite";function Z(l){for(var p=l.length,h=new ArrayBuffer(p),m=new Uint8Array(h),v=0;v<p;v++)m[v]=l.charCodeAt(v);return h}function F(l){return new x(function(p){var h=l.transaction(tt,k),m=z([""]);h.objectStore(tt).put(m,"key"),h.onabort=function(v){v.preventDefault(),v.stopPropagation(),p(!1)},h.oncomplete=function(){var v=navigator.userAgent.match(/Chrome\/(\d+)/),d=navigator.userAgent.match(/Edge\//);p(d||!v||parseInt(v[1],10)>=43)}}).catch(function(){return!1})}function $(l){return typeof ut=="boolean"?x.resolve(ut):F(l).then(function(p){return ut=p,ut})}function ht(l){var p=ot[l.name],h={};h.promise=new x(function(m,v){h.resolve=m,h.reject=v}),p.deferredOperations.push(h),p.dbReady?p.dbReady=p.dbReady.then(function(){return h.promise}):p.dbReady=h.promise}function bt(l){var p=ot[l.name],h=p.deferredOperations.pop();if(h)return h.resolve(),h.promise}function at(l,p){var h=ot[l.name],m=h.deferredOperations.pop();if(m)return m.reject(p),m.promise}function lt(l,p){return new x(function(h,m){if(ot[l.name]=ot[l.name]||St(),l.db)if(p)ht(l),l.db.close();else return h(l.db);var v=[l.name];p&&v.push(l.version);var d=T.open.apply(T,v);p&&(d.onupgradeneeded=function(b){var A=d.result;try{A.createObjectStore(l.storeName),b.oldVersion<=1&&A.createObjectStore(tt)}catch(I){if(I.name==="ConstraintError")console.warn('The database "'+l.name+'" has been upgraded from version '+b.oldVersion+" to version "+b.newVersion+', but the storage "'+l.storeName+'" already exists.');else throw I}}),d.onerror=function(b){b.preventDefault(),m(d.error)},d.onsuccess=function(){var b=d.result;b.onversionchange=function(A){A.target.close()},h(b),bt(l)}})}function Ct(l){return lt(l,!1)}function xt(l){return lt(l,!0)}function se(l,p){if(!l.db)return!0;var h=!l.db.objectStoreNames.contains(l.storeName),m=l.version<l.db.version,v=l.version>l.db.version;if(m&&(l.version!==p&&console.warn('The database "'+l.name+`" can't be downgraded from version `+l.db.version+" to version "+l.version+"."),l.version=l.db.version),v||h){if(h){var d=l.db.version+1;d>l.version&&(l.version=d)}return!0}return!1}function Tt(l){return new x(function(p,h){var m=new FileReader;m.onerror=h,m.onloadend=function(v){var d=btoa(v.target.result||"");p({__local_forage_encoded_blob:!0,data:d,type:l.type})},m.readAsBinaryString(l)})}function Rt(l){var p=Z(atob(l.data));return z([p],{type:l.type})}function q(l){return l&&l.__local_forage_encoded_blob}function Tn(l){var p=this,h=p._initReady().then(function(){var m=ot[p._dbInfo.name];if(m&&m.dbReady)return m.dbReady});return U(h,l,l),h}function K(l){ht(l);for(var p=ot[l.name],h=p.forages,m=0;m<h.length;m++){var v=h[m];v._dbInfo.db&&(v._dbInfo.db.close(),v._dbInfo.db=null)}return l.db=null,Ct(l).then(function(d){return l.db=d,se(l)?xt(l):d}).then(function(d){l.db=p.db=d;for(var b=0;b<h.length;b++)h[b]._dbInfo.db=d}).catch(function(d){throw at(l,d),d})}function rt(l,p,h,m){m===void 0&&(m=1);try{var v=l.db.transaction(l.storeName,p);h(null,v)}catch(d){if(m>0&&(!l.db||d.name==="InvalidStateError"||d.name==="NotFoundError"))return x.resolve().then(function(){if(!l.db||d.name==="NotFoundError"&&!l.db.objectStoreNames.contains(l.storeName)&&l.version<=l.db.version)return l.db&&(l.version=l.db.version+1),xt(l)}).then(function(){return K(l).then(function(){rt(l,p,h,m-1)})}).catch(h);h(d)}}function St(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function At(l){var p=this,h={db:null};if(l)for(var m in l)h[m]=l[m];var v=ot[h.name];v||(v=St(),ot[h.name]=v),v.forages.push(p),p._initReady||(p._initReady=p.ready,p.ready=Tn);var d=[];function b(){return x.resolve()}for(var A=0;A<v.forages.length;A++){var I=v.forages[A];I!==p&&d.push(I._initReady().catch(b))}var O=v.forages.slice(0);return x.all(d).then(function(){return h.db=v.db,Ct(h)}).then(function(C){return h.db=C,se(h,p._defaultConfig.version)?xt(h):C}).then(function(C){h.db=v.db=C,p._dbInfo=h;for(var D=0;D<O.length;D++){var V=O[D];V!==p&&(V._dbInfo.db=h.db,V._dbInfo.version=h.version)}})}function gt(l,p){var h=this;l=Y(l);var m=new x(function(v,d){h.ready().then(function(){rt(h._dbInfo,wt,function(b,A){if(b)return d(b);try{var I=A.objectStore(h._dbInfo.storeName),O=I.get(l);O.onsuccess=function(){var C=O.result;C===void 0&&(C=null),q(C)&&(C=Rt(C)),v(C)},O.onerror=function(){d(O.error)}}catch(C){d(C)}})}).catch(d)});return B(m,p),m}function st(l,p){var h=this,m=new x(function(v,d){h.ready().then(function(){rt(h._dbInfo,wt,function(b,A){if(b)return d(b);try{var I=A.objectStore(h._dbInfo.storeName),O=I.openCursor(),C=1;O.onsuccess=function(){var D=O.result;if(D){var V=D.value;q(V)&&(V=Rt(V));var H=l(V,D.key,C++);H!==void 0?v(H):D.continue()}else v()},O.onerror=function(){d(O.error)}}catch(D){d(D)}})}).catch(d)});return B(m,p),m}function J(l,p,h){var m=this;l=Y(l);var v=new x(function(d,b){var A;m.ready().then(function(){return A=m._dbInfo,_t.call(p)==="[object Blob]"?$(A.db).then(function(I){return I?p:Tt(p)}):p}).then(function(I){rt(m._dbInfo,k,function(O,C){if(O)return b(O);try{var D=C.objectStore(m._dbInfo.storeName);I===null&&(I=void 0);var V=D.put(I,l);C.oncomplete=function(){I===void 0&&(I=null),d(I)},C.onabort=C.onerror=function(){var H=V.error?V.error:V.transaction.error;b(H)}}catch(H){b(H)}})}).catch(b)});return B(v,h),v}function Nt(l,p){var h=this;l=Y(l);var m=new x(function(v,d){h.ready().then(function(){rt(h._dbInfo,k,function(b,A){if(b)return d(b);try{var I=A.objectStore(h._dbInfo.storeName),O=I.delete(l);A.oncomplete=function(){v()},A.onerror=function(){d(O.error)},A.onabort=function(){var C=O.error?O.error:O.transaction.error;d(C)}}catch(C){d(C)}})}).catch(d)});return B(m,p),m}function Vt(l){var p=this,h=new x(function(m,v){p.ready().then(function(){rt(p._dbInfo,k,function(d,b){if(d)return v(d);try{var A=b.objectStore(p._dbInfo.storeName),I=A.clear();b.oncomplete=function(){m()},b.onabort=b.onerror=function(){var O=I.error?I.error:I.transaction.error;v(O)}}catch(O){v(O)}})}).catch(v)});return B(h,l),h}function Sn(l){var p=this,h=new x(function(m,v){p.ready().then(function(){rt(p._dbInfo,wt,function(d,b){if(d)return v(d);try{var A=b.objectStore(p._dbInfo.storeName),I=A.count();I.onsuccess=function(){m(I.result)},I.onerror=function(){v(I.error)}}catch(O){v(O)}})}).catch(v)});return B(h,l),h}function Ve(l,p){var h=this,m=new x(function(v,d){if(l<0){v(null);return}h.ready().then(function(){rt(h._dbInfo,wt,function(b,A){if(b)return d(b);try{var I=A.objectStore(h._dbInfo.storeName),O=!1,C=I.openKeyCursor();C.onsuccess=function(){var D=C.result;if(!D){v(null);return}l===0||O?v(D.key):(O=!0,D.advance(l))},C.onerror=function(){d(C.error)}}catch(D){d(D)}})}).catch(d)});return B(m,p),m}function qe(l){var p=this,h=new x(function(m,v){p.ready().then(function(){rt(p._dbInfo,wt,function(d,b){if(d)return v(d);try{var A=b.objectStore(p._dbInfo.storeName),I=A.openKeyCursor(),O=[];I.onsuccess=function(){var C=I.result;if(!C){m(O);return}O.push(C.key),C.continue()},I.onerror=function(){v(I.error)}}catch(C){v(C)}})}).catch(v)});return B(h,l),h}function pe(l,p){p=W.apply(this,arguments);var h=this.config();l=typeof l!="function"&&l||{},l.name||(l.name=l.name||h.name,l.storeName=l.storeName||h.storeName);var m=this,v;if(!l.name)v=x.reject("Invalid arguments");else{var d=l.name===h.name&&m._dbInfo.db,b=d?x.resolve(m._dbInfo.db):Ct(l).then(function(A){var I=ot[l.name],O=I.forages;I.db=A;for(var C=0;C<O.length;C++)O[C]._dbInfo.db=A;return A});l.storeName?v=b.then(function(A){if(A.objectStoreNames.contains(l.storeName)){var I=A.version+1;ht(l);var O=ot[l.name],C=O.forages;A.close();for(var D=0;D<C.length;D++){var V=C[D];V._dbInfo.db=null,V._dbInfo.version=I}var H=new x(function(Q,ft){var ct=T.open(l.name,I);ct.onerror=function(Ot){var Wt=ct.result;Wt.close(),ft(Ot)},ct.onupgradeneeded=function(){var Ot=ct.result;Ot.deleteObjectStore(l.storeName)},ct.onsuccess=function(){var Ot=ct.result;Ot.close(),Q(Ot)}});return H.then(function(Q){O.db=Q;for(var ft=0;ft<C.length;ft++){var ct=C[ft];ct._dbInfo.db=Q,bt(ct._dbInfo)}}).catch(function(Q){throw(at(l,Q)||x.resolve()).catch(function(){}),Q})}}):v=b.then(function(A){ht(l);var I=ot[l.name],O=I.forages;A.close();for(var C=0;C<O.length;C++){var D=O[C];D._dbInfo.db=null}var V=new x(function(H,Q){var ft=T.deleteDatabase(l.name);ft.onerror=function(){var ct=ft.result;ct&&ct.close(),Q(ft.error)},ft.onblocked=function(){console.warn('dropInstance blocked for database "'+l.name+'" until all open connections are closed')},ft.onsuccess=function(){var ct=ft.result;ct&&ct.close(),H(ct)}});return V.then(function(H){I.db=H;for(var Q=0;Q<O.length;Q++){var ft=O[Q];bt(ft._dbInfo)}}).catch(function(H){throw(at(l,H)||x.resolve()).catch(function(){}),H})})}return B(v,p),v}var Ge={_driver:"asyncStorage",_initStorage:At,_support:M(),iterate:st,getItem:gt,setItem:J,removeItem:Nt,clear:Vt,length:Sn,key:Ve,keys:qe,dropInstance:pe};function Si(){return typeof openDatabase=="function"}var Ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",En="~~local_forage_type~",Me=/^~~local_forage_type~([^~]+)~/,Qt="__lfsc__:",Ye=Qt.length,Ie="arbf",me="blob",$e="si08",Xe="ui08",An="uic8",On="si16",Ce="si32",Qe="ur16",Je="ui32",Mn="fl32",tn="fl64",en=Ye+Ie.length,In=Object.prototype.toString;function nn(l){var p=l.length*.75,h=l.length,m,v=0,d,b,A,I;l[l.length-1]==="="&&(p--,l[l.length-2]==="="&&p--);var O=new ArrayBuffer(p),C=new Uint8Array(O);for(m=0;m<h;m+=4)d=Ft.indexOf(l[m]),b=Ft.indexOf(l[m+1]),A=Ft.indexOf(l[m+2]),I=Ft.indexOf(l[m+3]),C[v++]=d<<2|b>>4,C[v++]=(b&15)<<4|A>>2,C[v++]=(A&3)<<6|I&63;return O}function ve(l){var p=new Uint8Array(l),h="",m;for(m=0;m<p.length;m+=3)h+=Ft[p[m]>>2],h+=Ft[(p[m]&3)<<4|p[m+1]>>4],h+=Ft[(p[m+1]&15)<<2|p[m+2]>>6],h+=Ft[p[m+2]&63];return p.length%3===2?h=h.substring(0,h.length-1)+"=":p.length%3===1&&(h=h.substring(0,h.length-2)+"=="),h}function Cn(l,p){var h="";if(l&&(h=In.call(l)),l&&(h==="[object ArrayBuffer]"||l.buffer&&In.call(l.buffer)==="[object ArrayBuffer]")){var m,v=Qt;l instanceof ArrayBuffer?(m=l,v+=Ie):(m=l.buffer,h==="[object Int8Array]"?v+=$e:h==="[object Uint8Array]"?v+=Xe:h==="[object Uint8ClampedArray]"?v+=An:h==="[object Int16Array]"?v+=On:h==="[object Uint16Array]"?v+=Qe:h==="[object Int32Array]"?v+=Ce:h==="[object Uint32Array]"?v+=Je:h==="[object Float32Array]"?v+=Mn:h==="[object Float64Array]"?v+=tn:p(new Error("Failed to get type for BinaryArray"))),p(v+ve(m))}else if(h==="[object Blob]"){var d=new FileReader;d.onload=function(){var b=En+l.type+"~"+ve(this.result);p(Qt+me+b)},d.readAsArrayBuffer(l)}else try{p(JSON.stringify(l))}catch(b){console.error("Couldn't convert value into a JSON string: ",l),p(null,b)}}function Ei(l){if(l.substring(0,Ye)!==Qt)return JSON.parse(l);var p=l.substring(en),h=l.substring(Ye,en),m;if(h===me&&Me.test(p)){var v=p.match(Me);m=v[1],p=p.substring(v[0].length)}var d=nn(p);switch(h){case Ie:return d;case me:return z([d],{type:m});case $e:return new Int8Array(d);case Xe:return new Uint8Array(d);case An:return new Uint8ClampedArray(d);case On:return new Int16Array(d);case Qe:return new Uint16Array(d);case Ce:return new Int32Array(d);case Je:return new Uint32Array(d);case Mn:return new Float32Array(d);case tn:return new Float64Array(d);default:throw new Error("Unkown type: "+h)}}var Jt={serialize:Cn,deserialize:Ei,stringToBuffer:nn,bufferToString:ve};function kn(l,p,h,m){l.executeSql("CREATE TABLE IF NOT EXISTS "+p.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],h,m)}function Ai(l){var p=this,h={db:null};if(l)for(var m in l)h[m]=typeof l[m]!="string"?l[m].toString():l[m];var v=new x(function(d,b){try{h.db=openDatabase(h.name,String(h.version),h.description,h.size)}catch(A){return b(A)}h.db.transaction(function(A){kn(A,h,function(){p._dbInfo=h,d()},function(I,O){b(O)})},b)});return h.serializer=Jt,v}function Ht(l,p,h,m,v,d){l.executeSql(h,m,v,function(b,A){A.code===A.SYNTAX_ERR?b.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[p.storeName],function(I,O){O.rows.length?d(I,A):kn(I,p,function(){I.executeSql(h,m,v,d)},d)},d):d(b,A)},d)}function Bn(l,p){var h=this;l=Y(l);var m=new x(function(v,d){h.ready().then(function(){var b=h._dbInfo;b.db.transaction(function(A){Ht(A,b,"SELECT * FROM "+b.storeName+" WHERE key = ? LIMIT 1",[l],function(I,O){var C=O.rows.length?O.rows.item(0).value:null;C&&(C=b.serializer.deserialize(C)),v(C)},function(I,O){d(O)})})}).catch(d)});return B(m,p),m}function zn(l,p){var h=this,m=new x(function(v,d){h.ready().then(function(){var b=h._dbInfo;b.db.transaction(function(A){Ht(A,b,"SELECT * FROM "+b.storeName,[],function(I,O){for(var C=O.rows,D=C.length,V=0;V<D;V++){var H=C.item(V),Q=H.value;if(Q&&(Q=b.serializer.deserialize(Q)),Q=l(Q,H.key,V+1),Q!==void 0){v(Q);return}}v()},function(I,O){d(O)})})}).catch(d)});return B(m,p),m}function Rn(l,p,h,m){var v=this;l=Y(l);var d=new x(function(b,A){v.ready().then(function(){p===void 0&&(p=null);var I=p,O=v._dbInfo;O.serializer.serialize(p,function(C,D){D?A(D):O.db.transaction(function(V){Ht(V,O,"INSERT OR REPLACE INTO "+O.storeName+" (key, value) VALUES (?, ?)",[l,C],function(){b(I)},function(H,Q){A(Q)})},function(V){if(V.code===V.QUOTA_ERR){if(m>0){b(Rn.apply(v,[l,I,h,m-1]));return}A(V)}})})}).catch(A)});return B(d,h),d}function Oi(l,p,h){return Rn.apply(this,[l,p,h,1])}function Mi(l,p){var h=this;l=Y(l);var m=new x(function(v,d){h.ready().then(function(){var b=h._dbInfo;b.db.transaction(function(A){Ht(A,b,"DELETE FROM "+b.storeName+" WHERE key = ?",[l],function(){v()},function(I,O){d(O)})})}).catch(d)});return B(m,p),m}function Ii(l){var p=this,h=new x(function(m,v){p.ready().then(function(){var d=p._dbInfo;d.db.transaction(function(b){Ht(b,d,"DELETE FROM "+d.storeName,[],function(){m()},function(A,I){v(I)})})}).catch(v)});return B(h,l),h}function Ci(l){var p=this,h=new x(function(m,v){p.ready().then(function(){var d=p._dbInfo;d.db.transaction(function(b){Ht(b,d,"SELECT COUNT(key) as c FROM "+d.storeName,[],function(A,I){var O=I.rows.item(0).c;m(O)},function(A,I){v(I)})})}).catch(v)});return B(h,l),h}function ki(l,p){var h=this,m=new x(function(v,d){h.ready().then(function(){var b=h._dbInfo;b.db.transaction(function(A){Ht(A,b,"SELECT key FROM "+b.storeName+" WHERE id = ? LIMIT 1",[l+1],function(I,O){var C=O.rows.length?O.rows.item(0).key:null;v(C)},function(I,O){d(O)})})}).catch(d)});return B(m,p),m}function rn(l){var p=this,h=new x(function(m,v){p.ready().then(function(){var d=p._dbInfo;d.db.transaction(function(b){Ht(b,d,"SELECT key FROM "+d.storeName,[],function(A,I){for(var O=[],C=0;C<I.rows.length;C++)O.push(I.rows.item(C).key);m(O)},function(A,I){v(I)})})}).catch(v)});return B(h,l),h}function Bi(l){return new x(function(p,h){l.transaction(function(m){m.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(v,d){for(var b=[],A=0;A<d.rows.length;A++)b.push(d.rows.item(A).name);p({db:l,storeNames:b})},function(v,d){h(d)})},function(m){h(m)})})}function zi(l,p){p=W.apply(this,arguments);var h=this.config();l=typeof l!="function"&&l||{},l.name||(l.name=l.name||h.name,l.storeName=l.storeName||h.storeName);var m=this,v;return l.name?v=new x(function(d){var b;l.name===h.name?b=m._dbInfo.db:b=openDatabase(l.name,"","",0),l.storeName?d({db:b,storeNames:[l.storeName]}):d(Bi(b))}).then(function(d){return new x(function(b,A){d.db.transaction(function(I){function O(H){return new x(function(Q,ft){I.executeSql("DROP TABLE IF EXISTS "+H,[],function(){Q()},function(ct,Ot){ft(Ot)})})}for(var C=[],D=0,V=d.storeNames.length;D<V;D++)C.push(O(d.storeNames[D]));x.all(C).then(function(){b()}).catch(function(H){A(H)})},function(I){A(I)})})}):v=x.reject("Invalid arguments"),B(v,p),v}var Ri={_driver:"webSQLStorage",_initStorage:Ai,_support:Si(),iterate:zn,getItem:Bn,setItem:Oi,removeItem:Mi,clear:Ii,length:Ci,key:ki,keys:rn,dropInstance:zi};function Di(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function kt(l,p){var h=l.name+"/";return l.storeName!==p.storeName&&(h+=l.storeName+"/"),h}function N(){var l="_localforage_support_test";try{return localStorage.setItem(l,!0),localStorage.removeItem(l),!1}catch{return!0}}function Dn(){return!N()||localStorage.length>0}function Zn(l){var p=this,h={};if(l)for(var m in l)h[m]=l[m];return h.keyPrefix=kt(l,p._defaultConfig),Dn()?(p._dbInfo=h,h.serializer=Jt,x.resolve()):x.reject()}function Nn(l){var p=this,h=p.ready().then(function(){for(var m=p._dbInfo.keyPrefix,v=localStorage.length-1;v>=0;v--){var d=localStorage.key(v);d.indexOf(m)===0&&localStorage.removeItem(d)}});return B(h,l),h}function Fn(l,p){var h=this;l=Y(l);var m=h.ready().then(function(){var v=h._dbInfo,d=localStorage.getItem(v.keyPrefix+l);return d&&(d=v.serializer.deserialize(d)),d});return B(m,p),m}function on(l,p){var h=this,m=h.ready().then(function(){for(var v=h._dbInfo,d=v.keyPrefix,b=d.length,A=localStorage.length,I=1,O=0;O<A;O++){var C=localStorage.key(O);if(C.indexOf(d)===0){var D=localStorage.getItem(C);if(D&&(D=v.serializer.deserialize(D)),D=l(D,C.substring(b),I++),D!==void 0)return D}}});return B(m,p),m}function Hn(l,p){var h=this,m=h.ready().then(function(){var v=h._dbInfo,d;try{d=localStorage.key(l)}catch{d=null}return d&&(d=d.substring(v.keyPrefix.length)),d});return B(m,p),m}function ue(l){var p=this,h=p.ready().then(function(){for(var m=p._dbInfo,v=localStorage.length,d=[],b=0;b<v;b++){var A=localStorage.key(b);A.indexOf(m.keyPrefix)===0&&d.push(A.substring(m.keyPrefix.length))}return d});return B(h,l),h}function Wn(l){var p=this,h=p.keys().then(function(m){return m.length});return B(h,l),h}function Zi(l,p){var h=this;l=Y(l);var m=h.ready().then(function(){var v=h._dbInfo;localStorage.removeItem(v.keyPrefix+l)});return B(m,p),m}function Ni(l,p,h){var m=this;l=Y(l);var v=m.ready().then(function(){p===void 0&&(p=null);var d=p;return new x(function(b,A){var I=m._dbInfo;I.serializer.serialize(p,function(O,C){if(C)A(C);else try{localStorage.setItem(I.keyPrefix+l,O),b(d)}catch(D){(D.name==="QuotaExceededError"||D.name==="NS_ERROR_DOM_QUOTA_REACHED")&&A(D),A(D)}})})});return B(v,h),v}function Fi(l,p){if(p=W.apply(this,arguments),l=typeof l!="function"&&l||{},!l.name){var h=this.config();l.name=l.name||h.name,l.storeName=l.storeName||h.storeName}var m=this,v;return l.name?v=new x(function(d){l.storeName?d(kt(l,m._defaultConfig)):d(l.name+"/")}).then(function(d){for(var b=localStorage.length-1;b>=0;b--){var A=localStorage.key(b);A.indexOf(d)===0&&localStorage.removeItem(A)}}):v=x.reject("Invalid arguments"),B(v,p),v}var Hi={_driver:"localStorageWrapper",_initStorage:Zn,_support:Di(),iterate:on,getItem:Fn,setItem:Ni,removeItem:Zi,clear:Nn,length:Wn,key:Hn,keys:ue,dropInstance:Fi},jn=function(p,h){return p===h||typeof p=="number"&&typeof h=="number"&&isNaN(p)&&isNaN(h)},Wi=function(p,h){for(var m=p.length,v=0;v<m;){if(jn(p[v],h))return!0;v++}return!1},ge=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"},ye={},Un={},le={INDEXEDDB:Ge,WEBSQL:Ri,LOCALSTORAGE:Hi},ji=[le.INDEXEDDB._driver,le.WEBSQL._driver,le.LOCALSTORAGE._driver],ke=["dropInstance"],we=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ke),be={description:"",driver:ji.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Kn(l,p){l[p]=function(){var h=arguments;return l.ready().then(function(){return l[p].apply(l,h)})}}function Be(){for(var l=1;l<arguments.length;l++){var p=arguments[l];if(p)for(var h in p)p.hasOwnProperty(h)&&(ge(p[h])?arguments[0][h]=p[h].slice():arguments[0][h]=p[h])}return arguments[0]}var Pe=function(){function l(p){y(this,l);for(var h in le)if(le.hasOwnProperty(h)){var m=le[h],v=m._driver;this[h]=v,ye[v]||this.defineDriver(m)}this._defaultConfig=Be({},be),this._config=Be({},this._defaultConfig,p),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return l.prototype.config=function(h){if((typeof h>"u"?"undefined":S(h))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var m in h){if(m==="storeName"&&(h[m]=h[m].replace(/\W/g,"_")),m==="version"&&typeof h[m]!="number")return new Error("Database version must be a number.");this._config[m]=h[m]}return"driver"in h&&h.driver?this.setDriver(this._config.driver):!0}else return typeof h=="string"?this._config[h]:this._config},l.prototype.defineDriver=function(h,m,v){var d=new x(function(b,A){try{var I=h._driver,O=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!h._driver){A(O);return}for(var C=we.concat("_initStorage"),D=0,V=C.length;D<V;D++){var H=C[D],Q=!Wi(ke,H);if((Q||h[H])&&typeof h[H]!="function"){A(O);return}}var ft=function(){for(var Wt=function(sn){return function(){var ze=new Error("Method "+sn+" is not implemented by the current driver"),un=x.reject(ze);return B(un,arguments[arguments.length-1]),un}},xe=0,an=ke.length;xe<an;xe++){var he=ke[xe];h[he]||(h[he]=Wt(he))}};ft();var ct=function(Wt){ye[I]&&console.info("Redefining LocalForage driver: "+I),ye[I]=h,Un[I]=Wt,b()};"_support"in h?h._support&&typeof h._support=="function"?h._support().then(ct,A):ct(!!h._support):ct(!0)}catch(Ot){A(Ot)}});return U(d,m,v),d},l.prototype.driver=function(){return this._driver||null},l.prototype.getDriver=function(h,m,v){var d=ye[h]?x.resolve(ye[h]):x.reject(new Error("Driver not found."));return U(d,m,v),d},l.prototype.getSerializer=function(h){var m=x.resolve(Jt);return U(m,h),m},l.prototype.ready=function(h){var m=this,v=m._driverSet.then(function(){return m._ready===null&&(m._ready=m._initDriver()),m._ready});return U(v,h,h),v},l.prototype.setDriver=function(h,m,v){var d=this;ge(h)||(h=[h]);var b=this._getSupportedDrivers(h);function A(){d._config.driver=d.driver()}function I(D){return d._extend(D),A(),d._ready=d._initStorage(d._config),d._ready}function O(D){return function(){var V=0;function H(){for(;V<D.length;){var Q=D[V];return V++,d._dbInfo=null,d._ready=null,d.getDriver(Q).then(I).catch(H)}A();var ft=new Error("No available storage method found.");return d._driverSet=x.reject(ft),d._driverSet}return H()}}var C=this._driverSet!==null?this._driverSet.catch(function(){return x.resolve()}):x.resolve();return this._driverSet=C.then(function(){var D=b[0];return d._dbInfo=null,d._ready=null,d.getDriver(D).then(function(V){d._driver=V._driver,A(),d._wrapLibraryMethodsWithReady(),d._initDriver=O(b)})}).catch(function(){A();var D=new Error("No available storage method found.");return d._driverSet=x.reject(D),d._driverSet}),U(this._driverSet,m,v),this._driverSet},l.prototype.supports=function(h){return!!Un[h]},l.prototype._extend=function(h){Be(this,h)},l.prototype._getSupportedDrivers=function(h){for(var m=[],v=0,d=h.length;v<d;v++){var b=h[v];this.supports(b)&&m.push(b)}return m},l.prototype._wrapLibraryMethodsWithReady=function(){for(var h=0,m=we.length;h<m;h++)Kn(this,we[h])},l.prototype.createInstance=function(h){return new l(h)},l}(),nt=new Pe;c.exports=nt},{3:3}]},{},[4])(4)})})(Pa);var Rl=Pa.exports;const xa=ta(Rl),Dl=async(a,r,s,c)=>{const f=await xa.getItem(a);f!=null?r(f):(s!==void 0||c===!0)&&r(s)},Qo=We.createContext(),Jo=We.createContext(),Zl={appMenuVisible:!1,appMenuActiveMenuSection:"settings",secondaryInfoVisible:!1,collapsedInfoBox:!1,menuCounter:0},Yl=({children:a,enabled:r=!0,appKey:s,persistenceSettings:c})=>{const f="ui",S=(M,z)=>x=>{(z===!0||JSON.stringify(y[M])!==JSON.stringify(x))&&P(B=>{var U;(U=c[f])!==null&&U!==void 0&&U.includes(M)&&xa.setItem("@"+s+"."+f+"."+M,x),B[M]=x})};ae.useEffect(()=>{if(c&&c[f])for(const M of c[f]){const z="@"+s+"."+f+"."+M,x=S(M,!0);Dl(z,x)}},[]);const[y,P]=zl({...Zl}),T={setAppMenuVisible:M=>{M===!1&&S("menuCounter")(y.menuCounter+1),S("appMenuVisible")(M)},setAppMenuActiveMenuSection:S("appMenuActiveMenuSection"),setSecondaryInfoVisible:S("secondaryInfoVisible"),setCollapsedInfoBox:S("collapsedInfoBox")};return r===!0?We.createElement(Qo.Provider,{value:y},We.createElement(Jo.Provider,{value:{dispatch:P,...T}},a)):We.createElement(Qo.Provider,{value:void 0},We.createElement(Jo.Provider,{value:{undefined:void 0}},a))},La=({applicationName:a=document.title,applicationVersion:r})=>et.jsxs("div",{children:[et.jsxs("b",{children:["Teilzwilling ",a," #",r]})," ","powered by"," ",et.jsx("a",{href:"https://cismet.de/",target:"_cismet",children:"cismet GmbH"})," ","auf Basis von"," ",et.jsx("a",{href:"http://leafletjs.com/",target:"_cismet",children:"Leaflet"})," ","und"," ",et.jsx("a",{href:"https://github.com/cismet/carma",target:"_cismet",children:"carma"})," ","|"," ",et.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cismet.de/datenschutzerklaerung.html",children:"Datenschutzerklärung"})," ","| ",et.jsx("a",{href:"https://cismet.de/datenschutzerklaerung.html/",children:"Impressum"})]});La.__docgenInfo={description:"",methods:[],displayName:"Attribution",props:{applicationName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"document.title",computed:!0}},applicationVersion:{required:!0,tsType:{name:"string"},description:""}}};const Ta=""+new URL("Logo_DigiTalZwilling-gNS0v3nv.png",import.meta.url).href,Nl="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCACAANADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD3+iiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigBKWivK/HvxC1Xw74gGm6dDbBFhWR2mQsSTngYIAAAFXTpyqS5YmdWrGlHmkep0VxPw78XXnirTrx7+KJJreQLuhBVWBGehJ56967b3pTg4S5XuOnNTjzIQ0oryLxb8Vrqy1iax0NLZ4YTseeQF9z9woBAwOmecnNbfw68W654omvW1CC3+ywqAs0SFcvn7vJIPHPtx61rLDzjDnexjHE05T5FuehUVzfi3xZaeFNMFxOplmkYpDAnBc9+ewHc/SvK5vjD4idyY4LGJOy+WzY+pzRTw86ivFDq4qnSdpM94orwT/AIW/4n9LD/vyf/iq7b4e+OdT8US39vfxW5kgjEkbRArnJxggk+3NOeFqQjzMinjaU5cqPRaO1eEP8XfEsdw26CxG1zmMxNxg8jOc+2a9q0u/i1PS7W+h/wBXcRLKvPTIzj8KipQnTScuppSxEKraj0LtFcJ8RvFmqeFrewfToYSLh2V5JVLBSACAACOvPPtWd8PfiBfeI9Xn07VFt1fyjLC0Slc4IyCCT2IP4GhUZuHOtgeIgqns3uem0lL2rhviL4xuPCtlaLYrC93cOceapYKoHJwCOSSB+dRCDnLlW5pUnGnHmkdzRXl/w+8da14l1yayvorcwJAZC8SFSpyAO5BByfyr0+nUpunLlkKlVjUjzRFoooqDQKKKKACiiigAooooATvXgHxZ/wCR6l/694v617/3rwD4s/8AI9S/9e8X9a7MD/FOHMP4J1PwS/5B+sf9do//AEE1p/E7xiND0/8AsuylxqF0h3MDzFGeCfqeQPxPYVzfwz1dND8I+I9UkUuLdkYIDjccEAe2SQK861HULvWdTmvbpzLc3D5YgevAAHoOAB9K3VHnryk9kc0q7p4eMY7sl0PRbrX9Xt9OtF/eStyxGQijqx9gP6DvX0poejWug6RBp1ou2KJcZPVm7sfcnmuc+HvhBfDOkedcop1K6AMx7xjqEB9up9T9BXbVzYqv7SXKtkdWDw/s480t2eFfGK4eTxbbwE/u4rRSB2yWbJ/QflWX4F8Ff8JbNdNNdNb2tttDMigszHOAM8AYBJP0q98Xv+R2X/r0j/m1bXwjvYNM0TxDfXLFYYCkkhAyQArE4967OaUMMnDc4uWM8U1PY0v+FKaX/wBBW9/75T/Cuj8JeB7Dwi9xLbTzTy3AVWaXAwBnAGAO5/lWF/wujQ84/s/USM9dsf8A8XXdaTqVvrOl22o2pYwXCb03DBA9D7g1xVZV1H95szuoxw7lenuj5/8AiJpX9k+Nb5FXbFO32iPAwPn5OPowNeofCPVftvhD7GzZksZTHjvtPzL/ADI/Csj4z6SJLGw1ZF5hcwSkf3W5X8iP1rn/AIPap9k8UzWDHCXsB2jPV05H6Fq6ZfvcMn1Ryw/c4q3Rno3xJ0n+1fBV5sXdNbYuY8f7PX/x0mvEfCeqf2N4q02/JwiThZD/ALDfKf0Oa99v/EumQeI7Xw5chjcXsRI4BQAggKTnqcHHFfO+t6a2k63faa+R9nmaME91z8p/EEGjB3cHTl1DG2U41I9D6p4xmvnz4p6r/aHjSaFWzHZosI+vVv1OPwr1zwzr8d54FtdWncfurUmY57oCG/kTXztdXE2pajNcsC01zKZCOpLMScfmcVODp2qSb6F46renFLqeyfBvSfs+h3epuuHu5diEj+BOP1JP5V6ZWV4e0tdG8P2OnLj9xCqsR3bGWP4nNatcdafPNyO6hDkpqItFFFZmoUUUUAFFFFABRRRQAnevAPiz/wAj1L/17xf1r3/vXgHxZ/5HqX/r3i/rXZgf4vyOHMP4Js/DDSotb8KeI9MmJVLhkXcOqnaSD+BANec6rpd1o2qT2F4hS4gbDY6HuCD6EYINerfBL/kH6x/12j/9BNa3xL8Hf29pn9o2MW7UbRSQB1lj6lfc9x+I71uq3s68ovZnM6DqYeMo7oX4aeM/7e03+z72XOo2qgZJ5mQcBvqOAfwPeu/718paZqV1o+pQX9nKY54G3Kex9QR3BHBHoa+k/DPiG28S6JDqFsdpb5ZYycmNx1U/0PcEGsMXQ5Jc0dmdOCxHtI8kt0ePfF7/AJHZf+vSP+bVp/DDTjq/hbxPp4cI1yqRKxGcZRgCR6ZrM+L3/I7L/wBesf8ANq6P4Jf8ems/9dYv/QWrom2sKmvI5YJPFtMwP+FPeJN3/Hxp2M/89H/+Jr1/wxpD6F4bsdMkkWSS3j2syggE5JOM9ua2KK4auInUSUj0KWGhSbcTD8W6T/bfhbUbADMkkJMf++vK/qBXznoWoPpOvWN+uR5EyMw9s4YfkSK+qK+Z/G2k/wBjeMNRtVXEbSmaL02PyMfQkj8K6sDJNOD6nJmEWnGouhZ8U+IXuPiBcavbOGFtcL5JB4IjIHHscE/jWv8AFeyU6vY61CpEWo2ysSR/EuOvvtK/lXHaJpravrdlpyZ/0iZYyR2Unk/gMmvbvifoy3ngeR4UAbT2WZAB/COGH0wc/hW1SUaVSCRz04yq0pyZ5lpXiU2fw31nRy+JJZ0EQzzsf7+Pb5T+dV/h5pP9reNLCNlJit2+0SccfJyPzbArlu1exfBjSQljqGrOvMriCIn0XlvzJH5Vde1KnKS6kYe9apGL6HrFFFFeMe8FFFFABRRRQAUUUUAFFFFACV5X4++H2r+IfEX9paa9u0bQrGyySFSpGfYgggivVKKunUlTlzRM6tKNWPLI4f4c+E77wtp94moPEZriUMFiYkKAMDnA55ruO1LRSnNzlzMdOChHlR5D4w+Ft5f6zJf6H9mWOclpYZGK7XPUjg8Hrj1zV74feDPEfhjWJZbyW3WxliIljSQtuYfdOMDBHPPocV6fRWrxE3DkexisLTU+dbnl/wAQfAOreI9ej1HTXt2TyVidZXKkEEnI4IIINa3w48Jah4Ws75dReIy3LqQkTFgoUEdcDk5/Su6oqXXm4cj2GsPBVPaLcWiiisjoErzr4i+A7zxNdWt/pjwrcRoYpFlYruXORggHkEnr616NSVdOpKnLmiZ1KcakeWR5b4B+HeoaDrp1TVWt8xxssKROWO48EngAYGR+Nel3VtHeWk1tMN0UqGNh6gjB/Q1PRTqVZVJc0txU6MaceVHg03wh8RJcNHDJZyRbsJI0pUkdiRjg46jmvYfDWiJ4f8PWemBg7Qp87gY3MTlj+JJrZpDVVK86iSkRSw0KTbiLRRRWJ0BRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB/9k=",Fl=""+new URL("BMWSB_Logo-mr3oxfIz.png",import.meta.url).href,Hl=()=>et.jsxs("div",{children:[et.jsxs("p",{children:[et.jsx("img",{style:{marginBottom:0,marginLeft:20,float:"right"},alt:"Logo DigiTal Zwilling",height:"120",src:Ta}),et.jsxs("div",{children:["Diese Anwendung basiert auf dem ",et.jsx("b",{children:"DigiTal Zwilling"}),", dem"," ",et.jsx("a",{href:"https://smart.wuppertal.de/projekte/digital-zwilling/digitaler-zwilling.php",title:"",children:"Urbanen Digitalen Zwilling der Stadt Wuppertal"}),". Im Konzept des DigiTal Zwillings implementiert die Anwendung einen"," ",et.jsx("b",{children:"Teilzwilling"}),", also einen themenspezifischen Ausschnitt aus den Daten und Methoden des DigiTal Zwillings für einen spezifischen Anwendungsfall."]})]}),et.jsxs("p",{children:["Der Aufbau des DigiTal Zwillings ist eines der drei großen Umsetzungsprojekte aus der bis Ende 2026 laufenden Phase B des Wuppertaler Smart-City-Projekts"," ",et.jsx("a",{href:"https://smart.wuppertal.de/strategie/strategieprozess.php",title:"",children:"smart.wuppertal"}),". Das Projekt wird im Rahmen der dritten Session des Förderprogramms"," ",et.jsx("a",{href:"https://www.bmwsb.bund.de/Webs/BMWSB/DE/themen/stadt-wohnen/staedtebau/smart-cities/smart-cities-node.html",title:"",children:"Smart Cities made in Germany"})," ","vom Bundesministerium für Wohnen, Stadtentwicklung und Bauwesen gefördert. Als Projektträger fungiert die Kreditanstalt für Wiederaufbau KfW."]}),et.jsx("table",{width:"100%",style:{marginTop:10},children:et.jsx("tbody",{children:et.jsxs("tr",{children:[et.jsx("td",{style:{textAlign:"left",paddingBottom:10},children:et.jsx("a",{href:"https://www.bmwsb.bund.de/Webs/BMWSB/DE/startseite/startseite-node.html",title:"",target:"_zwilling",children:et.jsx("img",{alt:"Logo BMWSB",height:"120",src:Fl})})}),et.jsx("td",{style:{textAlign:"left",paddingBottom:10},children:et.jsx("a",{target:"_zwilling",href:"https://www.kfw.de/kfw.de.html",title:"",children:et.jsx("img",{alt:"Logo KFW",height:"120",src:Nl})})})]})})}),et.jsxs("p",{children:["Fachspezifische Fragen, Hinweise und Anregungen zu dieser Anwendung richten Sie bitte an die E-Mail-Adresse"," ",et.jsx("a",{href:"mailto:smart@stadt.wuppertal.de",children:"smart@stadt.wuppertal.de"}),"."]})]});Hl.__docgenInfo={description:"",methods:[],displayName:"GenericDigitalTwinReferenceTextComponent"};const Wl=({title:a=document.title,version:r,setAppMenuActiveMenuSection:s})=>et.jsxs("div",{style:{fontSize:"11px",display:"flex",alignItems:"center"},children:[et.jsxs("div",{children:[et.jsx("b",{children:"Hintergrundkarten"}),": Stadtkarte 2.0 © RVR | True Orthophoto 2022 © Stadt Wuppertal"," ",et.jsx("a",{className:"pleaseRenderAsLink",onClick:()=>{s("help"),ya.scrollTo("Datengrundlage",{containerId:"myMenu"})},children:"(Details und Nutzungsbedingungen)"}),et.jsx("br",{}),et.jsx(La,{applicationName:a,applicationVersion:r})]}),et.jsx("img",{style:{marginBottom:0,marginLeft:20,float:"right"},alt:"Logo DigiTal Zwilling",height:"60",src:Ta})]});Wl.__docgenInfo={description:"",methods:[],displayName:"MenuFooter",props:{title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"document.title",computed:!0}},version:{required:!0,tsType:{name:"string"},description:""},setAppMenuActiveMenuSection:{required:!0,tsType:{name:"signature",type:"function",raw:"(arg: string) => void",signature:{arguments:[{type:{name:"string"},name:"arg"}],return:{name:"void"}}},description:""}}};export{La as A,Jo as D,Hl as G,wl as L,Wl as M,Qo as S,Yl as U,Dl as a,Gl as b,Pl as c,xa as l,bl as r,ya as s,zl as u};
